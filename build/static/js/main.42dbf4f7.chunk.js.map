{"version":3,"sources":["serviceWorker.js","components/Button.js","components/Text.js","api.js","views/Login.js","views/Signup.js","components/requireAuth.js","modals/Modal.js","modals/Modals.js","reducers/ui.js","components/SlideOut.js","utility/api.js","reducers/modals.js","modals/Loading.js","reducers/characters.js","components/Header.js","components/Character.js","views/Characters.js","modals/SideInfo/ChangeName.js","components/CharacterName.js","modals/SideInfo/ChangeClass.js","components/CharacterClass.js","modals/SideInfo/Health.js","components/HP.js","modals/SideInfo/Experience.js","data/levels.js","components/EXP.js","components/ArmorClass.js","components/Speed.js","components/Initiative.js","components/Proficiency.js","components/PassivePerception.js","components/HitDice.js","helpers.js","components/Bonus.js","components/Stat.js","components/SideInfo.js","tabs/InfoTab.js","components/SavingThrow.js","components/SavingThrows.js","modals/SelectProficiency.js","data/skills.js","components/Skill.js","components/Skills.js","tabs/SkillsTab.js","components/ListSection.js","components/SpellSlots.js","components/Search.js","components/Clamp.js","components/Spell.js","components/Select.js","data/constants.js","modals/AddSpell/EditSpell.js","modals/AddSpell/Search.js","modals/AddSpell/index.js","assets/delete.svg","assets/edit.svg","modals/SpellInfo.js","tabs/SpellsTab.js","components/Item.js","modals/CurrencyInfo.js","modals/AddItem/EditItem.js","modals/AddItem/Search.js","modals/AddItem/index.js","modals/ItemInfo.js","tabs/EquipmentTab.js","tabs/CombatTab.js","components/Feature.js","modals/AddFeature/EditFeature.js","modals/AddFeature/Search.js","modals/AddFeature/index.js","modals/FeatureInfo.js","tabs/FeaturesAndTraits.js","components/CharFooter.js","views/Character.js","views/Home.js","Routes.js","reducers/user.js","reducers/index.js","store.js","index.js","theme.js"],"names":["Boolean","window","location","hostname","match","Button","styled","button","_templateObject","props","theme","green","text","Text","p","Text_templateObject","color","api","ApiService","Object","classCallCheck","this","domain","fetch","bind","loadCharacters","loadCharacter","login","signup","getProfile","id","data","concat","method","body","JSON","stringify","then","res","Promise","resolve","email","password","_this","setToken","token","_this2","getToken","isTokenExpired","decode","exp","Date","now","err","idToken","localStorage","setItem","getItem","removeItem","url","options","headers","Accept","Content-Type","loggedIn","_objectSpread","_checkStatus","response","json","status","console","log","error","Error","T","Login_templateObject","BackDrop","div","_templateObject2","middleblack","Header","_templateObject3","gold","Link","L","_templateObject4","Input","input","_templateObject5","first","Form","form","_templateObject6","Login","possibleConstructorReturn","getPrototypeOf","call","state","handleEmail","assertThisInitialized","handlePass","handleLogin","history","replace","event","setState","target","value","_this$state","resp","catch","alert","preventDefault","react_default","a","createElement","onSubmit","Login_Header","placeholder","type","onChange","components_Button","onClick","Login_Text","to","Component","Signup_templateObject","Signup_templateObject2","Signup_templateObject3","Signup_templateObject4","Signup_templateObject5","Signup","handleSignup","Signup_BackDrop","Signup_Form","Signup_Header","Signup_Input","components_Text","Signup_Link","withAuth","AuthComponent","_Component","AuthWrapped","user","inherits","createClass","key","profile","logout","Overlay","Modal_templateObject","Content","Modal_templateObject2","dark","Modal","item","onClose","onConfirm","className","content","Container","Modals_templateObject","modals","length","Modals","map","i","modals_Modal","zIndex","closeModal","connect","editItem","dispatch","payload","toggleSideNav","actions","_ref","assign","editing","_ref2","creatingCharacter","creationStage","_ref3","stage","_ref4","itemID","overlay","_ref5","featID","_ref6","spellID","_ref7","level","slotsLevel","isSideNavOpen","initialState","SlideOut_templateObject","MenuItem","SlideOut_templateObject2","almostblack","SlideOut","_this$props","open","SlideOut_Container","isOpen","ui","utility_api","api_objectSpread","openModal","obj","modals_objectSpread","filter","Backdrop","Loading_templateObject","spin","keyframes","Loading_templateObject2","Loader","Loading_templateObject3","grey","Loading","characters","loaded","character","cloneDeep","char","_id","_ref8","toConsumableArray","_ref9","_ref9$payload","path","newstate","update","empty","nanoid","lowercased","merge","feats","name","uses","description","new","_ref10","_ref10$payload","characters_objectSpread","isUpdated","f","push","_ref11","spells","school","castingTime","range","verbal","somatic","material","concentration","ritual","duration","_ref12","_ref12$payload","s","_ref13","keys","_ref14","_ref15","count","successesSaves","second","third","deathsaves","success","_ref16","deathSaves","newState","fails","header","Header_templateObject","light","Title","Header_templateObject2","MenuIcon","FaBars","Header_templateObject3","NavButton","bgStyles","_this$props$leftClick","leftClick","_this$props$LeftCompo","LeftComponent","_this$props$title","title","_this$props$RightComp","RightComponent","_this$props$rightClic","rightClick","Header_Container","style","Character_templateObject","Character_templateObject2","Character","job","lvl","Character_Container","Character_Link","Characters_templateObject","CreateCharacter","Characters_templateObject2","Characters","loadAll","createCharacter","Characters_Container","components_Header","components_Character","withRouter","startCharacterCreation","changeCharacterCreationStage","ChangeName_templateObject","ChangeName_templateObject2","ChangeName_templateObject3","Row","ChangeName_templateObject4","ChangeName_templateObject5","cancel","red","ChangeName_templateObject6","ChangeName","handleName","confirmChange","requestClose","syncData","characterID","ChangeName_BackDrop","ChangeName_Container","e","stopPropagation","ChangeName_Title","ChangeName_Input","defaultValue","ChangeName_Button","CharacterName_templateObject","CharacterName","changeName","SideInfo_ChangeName","CharacterName_Text","ChangeClass_templateObject","ChangeClass_templateObject2","ChangeClass_templateObject3","ChangeClass_templateObject4","ChangeClass_templateObject5","ChangeClass_templateObject6","ChangeClass","handleClass","ChangeClass_BackDrop","ChangeClass_Container","ChangeClass_Title","ChangeClass_Input","ChangeClass_Row","ChangeClass_Button","CharacterClass_templateObject","CharacterClass","changeClass","SideInfo_ChangeClass","CharacterClass_Text","Health_templateObject","Health_templateObject2","Health_templateObject3","Health_templateObject4","Health_templateObject5","Health_templateObject6","Health","current","max","temp","handleCurrent","handleMax","handleTemp","hp","_this$state2","Health_BackDrop","Health_Container","Health_Title","Health_Row","Health_Input","Health_Button","BarContainer","HP_templateObject","BarFiller","HP_templateObject2","HP_templateObject3","determinPercent","arguments","undefined","HP","editHP","SideInfo_Health","_this$props2","tempRender","hpRender","HP_Text","Experience_templateObject","Experience_templateObject2","Experience_templateObject3","Experience_templateObject4","Experience_templateObject5","Experience_templateObject6","Experience","handleExp","Experience_BackDrop","Experience_Container","Experience_Title","Experience_Input","Experience_Row","Experience_Button","levels","1","prof","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","EXP_templateObject","EXP_templateObject2","EXP_templateObject3","EXP","editEXP","SideInfo_Experience","find","expRender","EXP_BarContainer","EXP_Text","EXP_BarFiller","ArmorClass_templateObject","ArmorClass_templateObject2","ArmorClass","editStat","newValue","Number","prompt","defineProperty","ArmorClass_Container","ArmorClass_Text","Speed_templateObject","Speed_templateObject2","Speed","Speed_Container","Speed_Text","Initiative_templateObject","Initiative_templateObject2","Initiative","Initiative_Container","Initiative_Text","Proficiency_templateObject","Proficiency_templateObject2","Proficiency","Proficiency_Container","Proficiency_Text","PassivePerception_templateObject","PassivePerception_templateObject2","PassivePerception","PassivePerception_Container","PassivePerception_Text","HitDice_templateObject","HitDice_templateObject2","HitDice","HitDice_Container","HitDice_Text","determinMod","val","Math","floor","mergeUpdates","array","updates","modUpdates","Map","newUpdates","set","has","get","remove","Bonus","Bonus_templateObject","Stat_templateObject","Stat_templateObject2","Stat_templateObject3","CharacterStat","Stat_Container","Stat_Text","Stat_Bonus","SideInfo_templateObject","SideInfo_templateObject2","TopRow","SideInfo_templateObject3","BottomContainer","SideInfo_templateObject4","SideInfo_templateObject5","CloseButton","SideInfo_templateObject6","SideInfo","_char$hp","stats","ac","speed","initiative","proficiency","passivePerception","hitdice","extraProps","SideInfo_Container","components_CharacterName","components_CharacterClass","components_HP","components_EXP","SideInfo_Row","components_ArmorClass","components_Speed","components_Initiative","components_Proficiency","components_PassivePerception","components_HitDice","Stat","strength","dexterity","constitution","intelligence","wisdom","charisma","InfoTab_templateObject","InfoTab_templateObject2","InfoTab_templateObject3","InfoTab","InfoTab_Container","InfoTab_Content","InfoTab_Link","href","SavingThrow_templateObject","CheckBox","SavingThrow_templateObject2","size","checked","SavingThrow_templateObject3","Value","SavingThrow_templateObject4","SavingThrow","throws","skill","efficient","handleChange","revertData","updateData","mod","SavingThrow_Container","SavingThrow_Text","SavingThrows_templateObject","SavingThrows_templateObject2","SavingThrows","SavingThrows_Container","SavingThrows_Title","components_SavingThrow","SelectProficiency_templateObject","SelectProficiency_templateObject2","SelectProficiency_templateObject3","SelectProficiency_templateObject4","ProfText","SelectProficiency_templateObject5","SelectProficiency_templateObject6","_templateObject7","SelectProficiency","changeValue","SelectProficiency_Backdrop","SelectProficiency_Container","SelectProficiency_Title","toUpperCase","SelectProficiency_Row","SelectProficiency_CheckBox","SelectProficiency_Button","skills","acrobatics","animalHandling","arcana","athletics","deception","insight","intimidation","investigation","medicine","nature","perception","performance","persuasion","religion","sleightOfHand","stealth","survival","skillToStat","modForStage","0","skillMap","stageMap","Skill_templateObject","Skill_templateObject2","Skill_templateObject3","Skill_templateObject4","Skill_templateObject5","Skill","handleClick","modals_SelectProficiency","Skill_Container","Skill_CheckBox","Skill_Value","Skill_Text","Skill_Stat","Skills_templateObject","Skills_templateObject2","Skills","Skills_Container","Skills_Title","components_Skill","SkillsTab_templateObject","ContentContainer","SkillsTab_templateObject2","SkillsTab","savingThrows","propInfo","SkillsTab_Container","components_SavingThrows","components_Skills","ListSection_templateObject","ListSection_templateObject2","hcolor","HeaderText","ListSection_templateObject3","ListSection","_ref$filter","headerColor","_ref$HeaderExtra","HeaderExtra","_ref$onClick","filterdData","ListSection_Container","margin","ListSection_Header","index","SpellSlots_templateObject","SpellSlots_templateObject2","SlotOption","SpellSlots_templateObject3","cast","SpellSlots","_ref$slots","slots","edit","SpellSlots_Container","SpellSlots_Text","Search_templateObject","SearchContainer","Search_templateObject2","SearchInput","Search_templateObject3","SearchIcons","Search_templateObject4","Select","select","Search_templateObject5","Search","bgStyle","ph","onSearch","onFilter","filters","currentFilter","direction","spellcheck","Search_Select","ClampLines","element","React","createRef","original","watch","lineHeight","start","middle","end","uuid","expanded","noClamp","substring","action","debounced","debounce","delay","clientHeight","clampLines","addEventListener","removeEventListener","prevProps","func","wait","immediate","timeout","_arguments","context","args","callNow","clearTimeout","setTimeout","apply","maxHeight","lines","innerText","slice","moveMarkers","getEllipsis","ellipsis","Element","component","ref","PureComponent","defaultProps","innerElement","Spell_templateObject","abs","css","Spell_templateObject2","InnerContainer","Spell_templateObject3","Spell_templateObject4","Spell_templateObject5","SubText","Spell_templateObject6","Spell","source","casttime","Spell_Container","Spell_Header","Clamp_ClampLines","_props$multi","multi","multiple","label","spellDefaults","higherlevels","itemDefaults","rarity","category","magic","attackStat","attackBonus","damageStat","additionalDamage","damage1","damage2","longRange","properties","requirements","modifiers","weight","quantity","desc","reqAttune","charges","sources","featDefaults","boolOptions","spellLevels","schoolTypes","ALL","A","C","D","E","V","I","N","schoolFilters","schoolOptions","statTypes","AUTO","STR","DEX","CON","INT","WIS","CHA","statOptions","rarityTypes","U","R","VR","UK","UKM","rarityOptions","itemTypes","G","LA","MA","HA","S","M","RD","ST","WD","RG","P","SC","W","WE","SCF","AT","INS","typeFilters","typeOptions","damageTypes","B","F","FO","PO","PS","propertyTypes","LD","H","2H","RLD","BF","EditSpell_templateObject","EditSpell_templateObject2","EditSpell_templateObject3","TextArea","textarea","EditSpell_templateObject4","PropertyContainer","EditSpell_templateObject5","full","Property","_props$full","callback","components_Select","EditSpell_Input","EditSpell","editSpell","_props$spellData","spellData","EditSpell_Container","EditSpell_Row","EditSpell_Property","AddSpell_Search_templateObject","List","AddSpell_Search_templateObject2","CustomButton","AddSpell_Search_templateObject3","listFilter","spell","search","changeFilter","openSpell","filteredSrd","limit","srdSpells","toLowerCase","includes","AddSpell_Search_Container","components_Search","backgroundColor","boxShadow","components_ListSection","AddSpell_templateObject","BackButton","FaArrowLeft","AddSpell_templateObject2","ConfirmButton","FaCheck","AddSpell_templateObject3","AddSpell","creatingSpell","showSpells","AddSpell_objectSpread","spellInfo","AddSpell_Container","onMouseDown","creating","position","AddSpell_Search","AddSpell_EditSpell","_extends","prototype","hasOwnProperty","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","delete_ref2","d","fill","fillOpacity","delete_SvgDelete","svgRef","viewBox","height","width","transform","touchAction","ForwardRef","forwardRef","__webpack_require__","edit_extends","edit_objectWithoutProperties","edit_objectWithoutPropertiesLoose","edit_ref2","edit_SvgEdit","edit_ForwardRef","SpellInfo_templateObject","Options","SpellInfo_templateObject2","InfoContainer","SpellInfo_templateObject3","SpellInfo_templateObject4","span","SpellInfo_templateObject5","Description","SpellInfo_templateObject6","SpellInfo_templateObject7","_templateObject8","SpellInfo","isEditing","toggleEditing","confirmEdit","deleteSpell","SpellInfo_objectSpread","_this$state$spell","SpellInfo_BackDrop","SpellInfo_Text","SpellInfo_SubText","SpellsTab_templateObject","ListContainer","SpellsTab_templateObject2","SpellsTab_templateObject3","SpellsTab","updateSpellslots","_this$props$char","spellSlots","_this$props2$char","modals_SpellInfo","SpellsTab_Container","components_SpellSlots","one","two","three","four","five","six","seven","eight","nine","SpellsTab_AddSpell","modals_AddSpell","Item_templateObject","Item_templateObject2","LeftSection","Item_templateObject3","RightSection","Item_templateObject4","SideText","Item_templateObject5","Category","Item_templateObject6","Item","Item_Container","NameToPath","Platinum Pieces","Gold Pieces","Etherium Pieces","Silver Pieces","Copper Pieces","CurrencyInfo_templateObject","CurrencyInfo_templateObject2","CurrencyInfo_templateObject3","CurrencyInfo_templateObject4","CurrencyInfo_templateObject5","CurrencyInfo_templateObject6","CurrencyInfo","handleCurrency","CurrencyInfo_BackDrop","CurrencyInfo_Container","CurrencyInfo_Title","CurrencyInfo_Input","CurrencyInfo_Row","CurrencyInfo_Button","EditItem_templateObject","EditItem_templateObject2","EditItem_templateObject3","EditItem_templateObject4","EditItem_templateObject5","EditItem_PropertyContainer","EditItem_Input","EditItem","_props$itemData","itemData","EditItem_Container","EditItem_Row","EditItem_Property","Fragment","EditItem_TextArea","AddItem_Search_templateObject","AddItem_Search_templateObject2","AddItem_Search_templateObject3","openItem","srdEquipment","AddItem_Search_Container","Search_List","components_Item","Search_CustomButton","AddItem_templateObject","AddItem_templateObject2","AddItem_templateObject3","AddItem","creatingItem","showItems","items","AddItem_objectSpread","AddItem_Container","AddItem_Search","AddItem_EditItem","ItemInfo_templateObject","ItemInfo_templateObject2","ItemInfo_templateObject3","ItemInfo_templateObject4","ItemInfo_templateObject5","ItemInfo_templateObject6","ItemInfo_templateObject7","ItemInfo_templateObject8","ItemInfo","deleteItem","ItemInfo_objectSpread","_this$state$item","_this$state$item$prop","ItemInfo_BackDrop","ItemInfo_Options","ItemInfo_InfoContainer","ItemInfo_Text","ItemInfo_SubText","prop","join","ItemInfo_Description","EquipmentTab_templateObject","EquipmentTab_templateObject2","AddEquipment","EquipmentTab_templateObject3","EquipmentTab","pieces","platinum","etherium","silver","copper","EquipmentTab_Container","EquipmentTab_ListContainer","currency","modals_CurrencyInfo","modals_ItemInfo","modals_AddItem","CombatTab_templateObject","CombatTab_templateObject2","CombatTab_templateObject3","CombatTab","CombatTab_Container","CombatTab_Content","CombatTab_Link","Feature_templateObject","Feature_templateObject2","Feature_templateObject3","Info","Feature_templateObject4","Feature_templateObject5","Feature_templateObject6","Feature_templateObject7","Feature","prerequisite","_props$showRequiremen","showRequirements","Feature_Container","Feature_Header","justifyContent","alignItems","Feature_Title","Feature_Text","prereqs","which","renderReq","EditFeature_templateObject","EditFeature_templateObject2","EditFeature_templateObject3","EditFeature_templateObject4","EditFeature_templateObject5","EditFeature_PropertyContainer","EditFeature_Input","editFeat","_props$featData","featData","EditFeature_Container","EditFeature_Row","EditFeature_Property","EditFeature_TextArea","AddFeature_Search_templateObject","AddFeature_Search_templateObject2","AddFeature_Search_templateObject3","openFeat","srdFeatures","feat","AddFeature_Search_Container","AddFeature_Search_List","components_Feature","AddFeature_Search_CustomButton","AddFeature_templateObject","AddFeature_templateObject2","AddFeature_templateObject3","AddFeature","creatingFeat","showFeats","AddFeature_objectSpread","AddFeature_Container","AddFeature_Search","EditFeature","FeatureInfo_templateObject","FeatureInfo_templateObject2","FeatureInfo_templateObject3","FeatureInfo_templateObject4","FeatureInfo_templateObject5","FeatureInfo_templateObject6","FeatureInfo_templateObject7","FeatureInfo_templateObject8","FeatureInfo","deleteFeat","FeatureInfo_objectSpread","_this$state$feat","FeatureInfo_BackDrop","FeatureInfo_Options","FeatureInfo_InfoContainer","FeatureInfo_Text","FeatureInfo_SubText","FeatureInfo_Description","FeaturesAndTraits_templateObject","FeaturesAndTraits_templateObject2","FeaturesAndTraits_templateObject3","FeaturesAndTraits","FeaturesAndTraits_Container","FeaturesAndTraits_ListContainer","modals_FeatureInfo","FeaturesAndTraits_AddFeature","modals_AddFeature","OverlayContainer","CharFooter_templateObject","CharFooter_templateObject2","Icon","CharFooter_templateObject3","selected","CharFooter","selectedTab","changeTab","CharFooter_Container","index_esm","gi_index_esm","views_Character_templateObject","TabContainer","views_Character_templateObject2","SideInfoButton","FaInfoCircle","Character_templateObject3","CharacterOverlay","sideInfoIsOpen","toggleSideInfo","params","loadOne","newChar","changeCharacter","tab","views_Character_Container","components_SideInfo","tabs_InfoTab","tabs_SkillsTab","tabs_SpellsTab","tabs_EquipmentTab","tabs_CombatTab","tabs_FeaturesAndTraits","components_CharFooter","addSpell","showAddItem","modals_Loading","updateCharacter","Home_templateObject","ViewContainer","Home_templateObject2","requireAuth","pathname","Home_Container","modals_Modals","components_SlideOut","react_router","exact","Routes","react_router_dom","basename","process","Home","_ref$payload","jwt","reducers","combineReducers","handler","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","reduxThunk","ReactDOM","render","styled_components_browser_esm","extra","blue","es","src_Routes","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.42dbf4f7.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n  background-color: ${props => props.theme.green};\r\n  color: ${props => props.theme.text};\r\n\r\n  font-family: OpenSans;\r\n  font-size: 1.2em;\r\n  padding: 8px 12px;\r\n  border-radius: 4px;\r\n  border: none;\r\n`\r\n\r\nexport default Button;","import styled from 'styled-components';\r\n\r\nconst Text = styled.p`\r\n  color: ${props => props.color ? props.theme[props.color] || props.color : props.theme.text};\r\n  font-family: OpenSans;\r\n  font-size: 1em;\r\n  font-weight: 200;\r\n`\r\n\r\nexport default Text;","import decode from 'jwt-decode';\r\n\r\nclass ApiService {\r\n  // Initializing important variables\r\n  constructor() {\r\n    this.domain = 'https://api.bardsballad.com' // API server domain\r\n\r\n    this.fetch = this.fetch.bind(this)\r\n    this.loadCharacters = this.loadCharacters.bind(this)\r\n    this.loadCharacter = this.loadCharacter.bind(this)\r\n    this.login = this.login.bind(this)\r\n    this.signup = this.signup.bind(this);\r\n    this.getProfile = this.getProfile.bind(this)\r\n  }\r\n\r\n  updateCharacter(id, data) {\r\n    return this.fetch(`${this.domain}/characters/${id}`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        data\r\n      })\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  createCharacter() {\r\n    return this.fetch(`${this.domain}/characters/create`, {\r\n      method: 'POST'\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  loadCharacters() {\r\n    return this.fetch(`${this.domain}/characters`, {\r\n      method: 'GET'\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  loadCharacter(id) {\r\n    return this.fetch(`${this.domain}/characters/${id}`, {\r\n      method: 'GET'\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  login(email, password) {\r\n    // Get a token from api server using the fetch api\r\n    return this.fetch(`${this.domain}/auth/login`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        email,\r\n        password\r\n      })\r\n    }).then(res => {\r\n      this.setToken(res.token) // Setting the token in localStorage\r\n      return Promise.resolve(res);\r\n    })\r\n  }\r\n\r\n  signup(email, password) {\r\n    // Get a token from api server using the fetch api\r\n    return this.fetch(`${this.domain}/auth/signup`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        email,\r\n        password\r\n      })\r\n    }).then(res => {\r\n      this.setToken(res.token) // Setting the token in localStorage\r\n      return Promise.resolve(res);\r\n    })\r\n  }\r\n\r\n  loggedIn() {\r\n    // Checks if there is a saved token and it's still valid\r\n    const token = this.getToken() // GEtting token from localstorage\r\n    return !!token && !this.isTokenExpired(token) // handwaiving here\r\n  }\r\n\r\n  isTokenExpired(token) {\r\n    try {\r\n      const decoded = decode(token);\r\n      if (decoded.exp < Date.now() / 1000) { // Checking if token is expired. N\r\n        return true;\r\n      }\r\n      else\r\n        return false;\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  setToken(idToken) {\r\n    // Saves user token to localStorage\r\n    localStorage.setItem('id_token', idToken)\r\n  }\r\n\r\n  getToken() {\r\n    // Retrieves the user token from localStorage\r\n    return localStorage.getItem('id_token')\r\n  }\r\n\r\n  logout() {\r\n    // Clear user token and profile data from localStorage\r\n    localStorage.removeItem('id_token');\r\n  }\r\n\r\n  getProfile() {\r\n    // Using jwt-decode npm package to decode the token\r\n    return decode(this.getToken());\r\n  }\r\n\r\n\r\n  fetch(url, options) {\r\n    // performs api calls sending the required authentication headers\r\n    const headers = {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    }\r\n\r\n    // Setting Authorization header\r\n    // Authorization: Bearer xxxxxxx.xxxxxxxx.xxxxxx\r\n    if (this.loggedIn()) {\r\n      headers['Authorization'] = 'Bearer ' + this.getToken()\r\n    }\r\n\r\n    return fetch(url, {\r\n      headers,\r\n      ...options\r\n    })\r\n      .then(this._checkStatus)\r\n      .then(response => response.json())\r\n  }\r\n\r\n  _checkStatus(response) {\r\n    // raises an error in case response status is not a success\r\n    if (response.status >= 200 && response.status < 300) { // Success status lies between 200 to 300\r\n      return response\r\n    } else {\r\n      console.log(response)\r\n      var error = new Error(response)\r\n      error.response = response\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default new ApiService();","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { Link as L } from 'react-router-dom';\r\n\r\nimport Button from '../components/Button';\r\nimport T from '../components/Text';\r\n\r\nimport api from '../api';\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.3em;\r\n`\r\n\r\nconst BackDrop = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  background-color: ${props => props.theme.middleblack};\r\n`\r\n\r\nconst Header = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  text-align: center;\r\n  font-size: 2em;\r\n  margin-bottom: 20px;\r\n`\r\n\r\nconst Link = styled(L)`\r\n  color: rgba(255, 255, 255, .6);\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin-bottom: ${props => props.first ? '15px' : '20px'};\r\n  padding: 10px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  appearance: none;\r\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\r\n  border-radius: 4px;\r\n  font-size: 1em;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);\r\n  }\r\n`\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 80%;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n`\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    }\r\n\r\n    this.handleEmail = this.handleEmail.bind(this);\r\n    this.handlePass = this.handlePass.bind(this);\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n  }\r\n\r\n  // redirect if we're already logged in\r\n  componentWillMount() {\r\n    if (api.loggedIn())\r\n      this.props.history.replace('/characters');\r\n  }\r\n\r\n  handleEmail(event) {\r\n    this.setState({ email: event.target.value });\r\n  }\r\n\r\n  handlePass(event) {\r\n    this.setState({ password: event.target.value });\r\n  }\r\n\r\n  handleLogin(event) {\r\n    const { email, password } = this.state;\r\n\r\n    api.login(\r\n      email,\r\n      password\r\n    ).then(resp => {\r\n      this.props.history.replace('/characters')\r\n    }).catch(alert)\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <BackDrop>\r\n        <Form onSubmit={this.handleLogin}>\r\n          <Header>Login</Header>\r\n          <Input first\r\n            placeholder='KingCosmicDev@gmail.com' type='text'\r\n            value={this.state.email} onChange={this.handleEmail}\r\n          />\r\n\r\n          <Input\r\n            placeholder='password' type='password'\r\n            value={this.state.password} onChange={this.handlePass}\r\n          />\r\n          <Button onClick={this.handleLogin}>Login</Button>\r\n        </Form>\r\n        <Text>Need to <Link to={`/signup`}>signup?</Link></Text>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { Link as L } from 'react-router-dom';\r\n\r\nimport Button from '../components/Button';\r\nimport Text from '../components/Text';\r\n\r\nimport api from '../api';\r\n\r\nconst BackDrop = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  background-color: ${props => props.theme.middleblack};\r\n`\r\n\r\nconst Header = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  text-align: center;\r\n  font-size: 2em;\r\n  margin-bottom: 20px;\r\n`\r\n\r\nconst Link = styled(L)`\r\n  color: rgba(255, 255, 255, .6);\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin-bottom: ${props => props.first ? '15px' : '20px'};\r\n  padding: 10px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  appearance: none;\r\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\r\n  border-radius: 4px;\r\n  font-size: 1em;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);\r\n  }\r\n`\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 80%;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n`\r\n\r\nclass Signup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    }\r\n\r\n    this.handleEmail = this.handleEmail.bind(this);\r\n    this.handlePass = this.handlePass.bind(this);\r\n    this.handleSignup = this.handleSignup.bind(this);\r\n  }\r\n\r\n  // redirect if we're already logged in\r\n  componentWillMount() {\r\n    if (api.loggedIn())\r\n      this.props.history.replace('/characters');\r\n  }\r\n\r\n  handleEmail(event) {\r\n    this.setState({ email: event.target.value });\r\n  }\r\n\r\n  handlePass(event) {\r\n    this.setState({ password: event.target.value });\r\n  }\r\n\r\n  handleSignup(event) {\r\n    const { email, password } = this.state;\r\n\r\n    api.signup(\r\n      email,\r\n      password\r\n    ).then(resp => {\r\n      this.props.history.replace('/characters')\r\n    }).catch(alert)\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <BackDrop>\r\n        <Form onSubmit={this.handleSignup}>\r\n          <Header>Signup</Header>\r\n          <Input first\r\n            placeholder='KingCosmicDev@gmail.com' type='text'\r\n            value={this.state.email} onChange={this.handleEmail}\r\n          />\r\n\r\n          <Input\r\n            placeholder='password' type='password'\r\n            value={this.state.password} onChange={this.handlePass}\r\n          />\r\n          <Button onClick={this.handleSignup}>Signup</Button>\r\n        </Form>\r\n        <Text>Need to <Link to={`/login`}>login?</Link></Text>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Signup;","import React, { Component } from 'react';\r\n\r\nimport api from '../api';\r\n\r\nconst withAuth = (AuthComponent) => {\r\n\r\n  class AuthWrapped extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        user: false\r\n      }\r\n\r\n    }\r\n\r\n    componentWillMount() {\r\n      if (!api.loggedIn()) {\r\n        this.props.history.replace('/login')\r\n      }\r\n      else {\r\n        try {\r\n          const profile = api.getProfile()\r\n          this.setState({\r\n            user: profile\r\n          })\r\n        }\r\n        catch (err) {\r\n          api.logout()\r\n          this.props.history.replace('/login')\r\n        }\r\n      }\r\n    }\r\n\r\n    render() {\r\n      const { user } = this.state;\r\n\r\n      return user ? <AuthComponent history={this.props.history} /> : null\r\n    }\r\n\r\n  }\r\n\r\n  return AuthWrapped;\r\n}\r\n\r\nexport default withAuth;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\n// import * as actions from './actions';\r\n\r\nconst Overlay = styled.div`\r\n  display: block;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, .45);\r\n  z-index: 60;\r\n`\r\n\r\nconst Content = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  border: 1px solid ${props => props.theme.middleblack};\r\n  background-color: ${props => props.theme.dark};\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, .2), 0 0 0 1px rgba(28, 36, 43 .6);\r\n  overflow: auto;\r\n  outline: none;\r\n`\r\n\r\nclass Modal extends Component {\r\n  onClose() {\r\n    if (this.props.item.onClose) this.props.item.onClose();\r\n\r\n    this.props.onClose(this.props.item);\r\n  }\r\n  onConfirm() {\r\n    if (this.props.item.onConfirm) {\r\n      this.props.item.onConfirm();\r\n      this.props.onClose(this.props.item);\r\n    }\r\n  }\r\n  render() {\r\n    const { item: { type } } = this.props;\r\n\r\n    if (type === 'confirmation') {\r\n      const { text } = this.props.item;\r\n      return (\r\n        <Overlay>\r\n          <Content>\r\n            <div className=\"text\">{text}</div>\r\n            <div className=\"buttons\">\r\n              <button className=\"modal-button\" onClick={() => this.onConfirm()}>Confirm</button>\r\n              <button className=\"modal-button\" onClick={() => this.onClose()}>Close</button>\r\n            </div>\r\n          </Content>\r\n        </Overlay>\r\n      )\r\n    } else if (type === 'custom') {\r\n      const { content } = this.props.item;\r\n      return (\r\n        <Overlay>\r\n          <Content>\r\n            {content}\r\n          </Content>\r\n        </Overlay>\r\n      )\r\n    } else {\r\n      return (\r\n        <div></div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n\r\n/*\r\n\r\nclass CustomModalContent extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"modal-content\">Custom Modal Content</div>\r\n    )\r\n  }\r\n}\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n          <h1 className=\"App-title\">Welcome to React</h1>\r\n        </header>\r\n\r\n        <button className=\"button\" onClick={() => this.props.dispatch(actions.openModal({\r\n          id: uuid.v4(),\r\n          type: 'confirmation',\r\n          text: 'Are you sure to do this?',\r\n          onClose: () => console.log(\"fire at closing event\"),\r\n          onConfirm: () => console.log(\"fire at confirming event\"),\r\n        }))}>Open confirmation modal</button>\r\n\r\n        <button className=\"button\" onClick={() => this.props.dispatch(actions.openModal({\r\n          id: uuid.v4(),\r\n          type: 'custom',\r\n          content: <CustomModalContent />\r\n        }))}>Open custom modal</button>\r\n\r\n        <ModalContainer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n*/","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Modal from './Modal';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nconst Container = styled.div`\r\n  display: ${props => props.modals.length !== 0 ? 'block' : 'none'};\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n`\r\n\r\nclass Modals extends Component {\r\n  render() {\r\n    const { modals } = this.props;\r\n\r\n    return (\r\n      <Container modals={modals}>\r\n        {\r\n          modals.map((item, i) => {\r\n            return <Modal item={item} key={i} zIndex={i} onClose={(item) => this.props.closeModal(item)} />\r\n          })\r\n        }\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) =>\r\n  ({ modals: state.modals.modals })\r\n\r\nexport default connect(mapStateToProps, {  })(Modals);","\r\n/**\r\n * ACTIONS TYPES\r\n * \r\n * These here are our action types defined for later use\r\n */\r\n\r\n// this type was ment for everything that when you click becomes editable (character stat, etc etc)\r\n// now that I'm making item events I realize I need this and am unsure what to change it to.\r\nexport const EDIT_ITEM = 'EDIT_ITEM';\r\nexport const START_CHARACTER_CREATION = 'START_CHARACTER_CREATION';\r\nexport const CHANGE_CHARACTER_CREATION_STAGE = 'CHANGE_CHARACTER_CREATION_STAGE';\r\n\r\nexport const SHOW_ITEM_INFO = 'SHOW_ITEM_INFO';\r\nexport const SHOW_SPELL_INFO = 'SHOW_SPELL_INFO';\r\nexport const SHOW_FEAT_INFO = 'SHOW_FEAT_INFO';\r\n\r\nexport const SHOW_ADD_ITEM = 'SHOW_ADD_ITEM';\r\nexport const SHOW_ADD_SPELL = 'SHOW_ADD_SPELL';\r\nexport const SHOW_ADD_FEAT = 'SHOW_ADD_FEAT';\r\n\r\nexport const SHOW_EDIT_SPELLS_LOTS = 'SHOW_EDIT_SPELL_SLOTS';\r\n\r\nexport const HIDE_MODAL = 'HIDE_MODAL';\r\n\r\nexport const TOGGLE_SIDE_NAV = 'TOGGLE_SIDE_NAV';\r\n\r\n/**\r\n * ACTIONS\r\n * \r\n * Here we define our actions\r\n */\r\n\r\nexport const showItemInfo = (itemID) => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_ITEM_INFO,\r\n    payload: { itemID }\r\n  })\r\n}\r\n\r\nexport const editItem = (id) => (dispatch) => {\r\n  dispatch({\r\n    type: EDIT_ITEM,\r\n    payload: { id }\r\n  })\r\n}\r\n\r\nexport const showSpellInfo = (spellID) => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_SPELL_INFO,\r\n    payload: { spellID }\r\n  })\r\n}\r\n\r\nexport const showFeatInfo = (featID) => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_FEAT_INFO,\r\n    payload: { featID }\r\n  })\r\n}\r\n\r\nexport const startCharacterCreation = () => (dispatch) => {\r\n  dispatch({\r\n    type: START_CHARACTER_CREATION,\r\n    payload: {}\r\n  })\r\n}\r\n\r\nexport const changeCharacterCreationStage = (stage) => (dispatch) => {\r\n  dispatch({\r\n    type: CHANGE_CHARACTER_CREATION_STAGE,\r\n    payload: {\r\n      stage\r\n    }\r\n  })\r\n}\r\n\r\nexport const showAddItem = () => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_ADD_ITEM,\r\n    payload: {}\r\n  })\r\n}\r\n\r\nexport const showAddSpell = () => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_ADD_SPELL,\r\n    payload: {}\r\n  })\r\n}\r\n\r\nexport const showAddFeat = () => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_ADD_FEAT,\r\n    payload: {}\r\n  })\r\n}\r\n\r\nexport const showEditSpellslots = (level) => (dispatch) => {\r\n  dispatch({\r\n    type: SHOW_EDIT_SPELLS_LOTS,\r\n    payload: { level }\r\n  })\r\n}\r\n\r\nexport const hideModal = () => (dispatch) => {\r\n  dispatch({\r\n    type: HIDE_MODAL,\r\n    payload: {}\r\n  })\r\n}\r\n\r\nexport const toggleSideNav = () => (dispatch) => {\r\n  dispatch({\r\n    type: TOGGLE_SIDE_NAV,\r\n    payload: {}\r\n  })\r\n}\r\n\r\n/**\r\n * HANDLERS\r\n * \r\n * Here we define handlers for our actions\r\n */\r\nconst actions = {}\r\n\r\nactions[EDIT_ITEM] = (state, { payload: { id } }) =>\r\n  Object.assign({}, state, { editing: id });\r\n\r\nactions[START_CHARACTER_CREATION] = (state, { payload }) =>\r\n  Object.assign({}, state, { creatingCharacter: true, creationStage: 1 })\r\n\r\nactions[CHANGE_CHARACTER_CREATION_STAGE] = (state, { payload: { stage } }) =>\r\n  Object.assign({}, state, { creationStage: stage })\r\n\r\nactions[SHOW_ITEM_INFO] = (state, { payload: { itemID } }) =>\r\n  Object.assign({}, state, { overlay: 'ItemInfo', itemID })\r\n\r\nactions[SHOW_FEAT_INFO] = (state, { payload: { featID } }) =>\r\n  Object.assign({}, state, { overlay: 'FeatInfo', featID })\r\n\r\nactions[SHOW_ADD_ITEM] = (state) =>\r\n  Object.assign({}, state, { overlay: 'AddItem' })\r\n\r\nactions[SHOW_ADD_FEAT] = (state) =>\r\n  Object.assign({}, state, { overlay: 'AddFeat' })\r\n\r\nactions[SHOW_ADD_SPELL] = (state) =>\r\n  Object.assign({}, state, { overlay: 'AddSpell' })\r\n\r\nactions[SHOW_SPELL_INFO] = (state, { payload: { spellID } }) =>\r\n  Object.assign({}, state, { overlay: 'SpellInfo', spellID })\r\n\r\nactions[SHOW_EDIT_SPELLS_LOTS] = (state, { payload: { level } }) =>\r\n  Object.assign({}, state, { overlay: 'EditSpellSlots', slotsLevel: level })\r\n\r\nactions[HIDE_MODAL] = (state) =>\r\n  Object.assign({}, state, { overlay: '' })\r\n\r\nactions[TOGGLE_SIDE_NAV] = (state) =>\r\n  Object.assign({}, state, { isSideNavOpen: !state.isSideNavOpen })\r\n\r\n\r\n/**\r\n * Reducer\r\n */\r\n\r\nconst initialState = {\r\n  overlay: '',\r\n  editing: '',\r\n  itemID: '',\r\n  spellID: '',\r\n  featID: '',\r\n  slotsLevel: 0,\r\n  isSideNavOpen: false,\r\n  creatingCharacter: false,\r\n  creationStage: 1\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  const handler = actions[action.type]\r\n\r\n  return handler ? handler(state, action) : state;\r\n}","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { toggleSideNav } from '../reducers/ui';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  pointer-events: none;\r\n\r\n  position: fixed;\r\n  z-index: 50;\r\n  top: 0;\r\n  left: 0;\r\n  width: 20%;\r\n  height: 100%;\r\n  overflow-x: hidden;\r\n  perspective: 4000px;\r\n`\r\n\r\nconst MenuItem = styled.p`\r\n  background-color: ${props => props.theme.dark};\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n  font-size: 4em;\r\n  width: 100%;\r\n  text-align: center;\r\n  color: ${props => props.theme.text};\r\n  pointer-events: all;\r\n\r\n  transition: transform 0.3s linear;\r\n  transform-origin: left;\r\n\r\n  &:nth-child(2) {\r\n    transition-delay: 0.1s;\r\n  }\r\n\r\n  &.fold {\r\n    transform: rotate3d(0, 1, 0, 100deg);\r\n    pointer-events: none;\r\n  }\r\n`\r\n\r\nclass SlideOut extends Component {\r\n  render() {\r\n    const { open, toggleSideNav } = this.props;\r\n\r\n    return (\r\n      <Container isOpen={open}>\r\n        <MenuItem onClick={toggleSideNav} className={open ? '' : 'fold'}>&times;</MenuItem>\r\n        <MenuItem className={open ? '' : 'fold'}>BB</MenuItem>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    open: state.ui.isSideNavOpen\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { toggleSideNav })(SlideOut);","import decode from 'jwt-decode';\r\n\r\nclass ApiService {\r\n  // Initializing important variables\r\n  constructor() {\r\n    this.domain = 'https://api.bardsballad.com' // API server domain\r\n\r\n\r\n    this.fetch = this.fetch.bind(this)\r\n    this.loadCharacters = this.loadCharacters.bind(this)\r\n    this.loadCharacter = this.loadCharacter.bind(this)\r\n    this.login = this.login.bind(this)\r\n    this.signup = this.signup.bind(this);\r\n    this.getProfile = this.getProfile.bind(this)\r\n  }\r\n\r\n  updateCharacter(id, data) {\r\n    return this.fetch(`${this.domain}/characters/${id}`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        data\r\n      })\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  createCharacter() {\r\n    return this.fetch(`${this.domain}/characters/create`, {\r\n      method: 'POST'\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  loadCharacters() {\r\n    return this.fetch(`${this.domain}/characters`, {\r\n      method: 'GET'\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  loadCharacter(id) {\r\n    return this.fetch(`${this.domain}/characters/${id}`, {\r\n      method: 'GET'\r\n    }).then(res => {\r\n      return Promise.resolve(res)\r\n    })\r\n  }\r\n\r\n  login(email, password) {\r\n    // Get a token from api server using the fetch api\r\n    return this.fetch(`${this.domain}/auth/login`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        email,\r\n        password\r\n      })\r\n    }).then(res => {\r\n      this.setToken(res.token) // Setting the token in localStorage\r\n      return Promise.resolve(res);\r\n    })\r\n  }\r\n\r\n  signup(email, password) {\r\n    // Get a token from api server using the fetch api\r\n    return this.fetch(`${this.domain}/auth/signup`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        email,\r\n        password\r\n      })\r\n    }).then(res => {\r\n      this.setToken(res.token) // Setting the token in localStorage\r\n      return Promise.resolve(res);\r\n    })\r\n  }\r\n\r\n  loggedIn() {\r\n    // Checks if there is a saved token and it's still valid\r\n    const token = this.getToken() // GEtting token from localstorage\r\n    return !!token && !this.isTokenExpired(token) // handwaiving here\r\n  }\r\n\r\n  isTokenExpired(token) {\r\n    try {\r\n      const decoded = decode(token);\r\n      if (decoded.exp < Date.now() / 1000) { // Checking if token is expired. N\r\n        return true;\r\n      }\r\n      else\r\n        return false;\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  setToken(idToken) {\r\n    // Saves user token to localStorage\r\n    localStorage.setItem('id_token', idToken)\r\n  }\r\n\r\n  getToken() {\r\n    // Retrieves the user token from localStorage\r\n    return localStorage.getItem('id_token')\r\n  }\r\n\r\n  logout() {\r\n    // Clear user token and profile data from localStorage\r\n    localStorage.removeItem('id_token');\r\n  }\r\n\r\n  getProfile() {\r\n    // Using jwt-decode npm package to decode the token\r\n    return decode(this.getToken());\r\n  }\r\n\r\n\r\n  fetch(url, options) {\r\n    // performs api calls sending the required authentication headers\r\n    const headers = {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    }\r\n\r\n    // Setting Authorization header\r\n    // Authorization: Bearer xxxxxxx.xxxxxxxx.xxxxxx\r\n    if (this.loggedIn()) {\r\n      headers['Authorization'] = 'Bearer ' + this.getToken()\r\n    }\r\n\r\n    return fetch(url, {\r\n      headers,\r\n      ...options\r\n    })\r\n    .then(this._checkStatus)\r\n    .then(response => response.json())\r\n  }\r\n\r\n  _checkStatus(response) {\r\n    // raises an error in case response status is not a success\r\n    if (response.status >= 200 && response.status < 300) { // Success status lies between 200 to 300\r\n      return response\r\n    } else {\r\n      console.log(response.json())\r\n      var error = new Error(response)\r\n      error.response = response\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default new ApiService();","\r\n/**\r\n * ACTIONS TYPES\r\n * \r\n * These here are our action types defined for later use\r\n */\r\n\r\nexport const OPEN_MODAL = 'OPEN_MODAL';\r\nexport const  CLOSE_MODAL = 'CLOSE_MODAL';\r\n\r\n/**\r\n * ACTIONS\r\n * \r\n * Here we define our actions\r\n */\r\n\r\nexport const openModal = (obj) => (dispatch) => {\r\n  dispatch({\r\n    type: OPEN_MODAL,\r\n    payload: { obj }\r\n  })\r\n}\r\n\r\nexport const closeModal = (obj) => (dispatch) => {\r\n  dispatch({\r\n    type: CLOSE_MODAL,\r\n    payload: { obj }\r\n  })\r\n}\r\n\r\n/**\r\n * HANDLERS\r\n * \r\n * Here we define handlers for our actions\r\n */\r\nconst actions = {}\r\n\r\nactions[OPEN_MODAL] = (state, { payload: { obj } }) =>\r\n  ({ ...state, modals: state.modals.concat(obj) })\r\n\r\nactions[CLOSE_MODAL] = (state, { payload: { obj } }) =>\r\n  ({ ...state, modals: state.modals.filter(item => item.id !== obj.id) })\r\n\r\n/**\r\n * Reducer\r\n */\r\n\r\nconst initialState = {\r\n  modals: []\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  const handler = actions[action.type]\r\n\r\n  return handler ? handler(state, action) : state;\r\n}","import React from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, .3);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst spin = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nconst Loader = styled.div`\r\n  border: 1em solid ${props => props.theme.grey}; /* Light grey */\r\n  border-top: 1em solid ${props => props.theme.gold}; /* Blue */\r\n  border-radius: 50%;\r\n  width: 120px;\r\n  height: 120px;\r\n  animation: ${spin} 2s linear infinite;\r\n`\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <Backdrop>\r\n      <Loader />\r\n    </Backdrop>\r\n  )\r\n}\r\n\r\nexport default Loading;","import React from 'react';\r\nimport cloneDeep from 'lodash.clonedeep'\r\nimport merge from 'lodash.merge';\r\n\r\nimport nanoid from 'nanoid/generate';\r\nimport lowercased from 'nanoid-dictionary/lowercase';\r\n\r\nimport api from '../utility/api';\r\n\r\nimport { openModal, closeModal } from './modals';\r\n\r\nimport Loading from '../modals/Loading';\r\n\r\n/**\r\n * ACTIONS TYPES\r\n *\r\n * These here are our action types defined for later use\r\n */\r\nexport const LOAD_ALL = 'LOAD_ALL_CHARACTERS'\r\nexport const LOAD_ONE = 'LOAD_ONE_CHARACTER'\r\nexport const ADD_FEAT = 'ADD_FEAT'\r\nexport const UPDATE_FEAT = 'UPDATE_FEAT'\r\nexport const ADD_SPELL = 'ADD_SPELL'\r\nexport const UPDATE_SPELL = 'UPDATE_SPELL'\r\nexport const CHANGE_CHARACTER = 'CHANGE_CHARACTER'\r\nexport const CREATE_CHARACTER = 'CREATE_CHARACTER'\r\nexport const UPDATE_CHARACTER = 'UPDATE_CHARACTER'\r\nexport const LEVEL_UP = 'LEVEL_UP'\r\nexport const REVERT_CHARACTER = 'REVERT_CHARACTER'\r\nexport const SYNC_CHARACTER = 'SYNC_CHARACTER'\r\nexport const UPDATE_DEATH_SAVES_SUCCESSES = 'UPDATE_DEATH_SAVES_SUCCESSES'\r\nexport const UPDATE_DEATH_SAVES_FAILS = 'UPDATE_DEATH_SAVES_FAILS'\r\n\r\n/**\r\n * ACTIONS\r\n *\r\n * Here we define our actions\r\n */\r\nexport const loadAll = () => (dispatch) => {\r\n  api.loadCharacters()\r\n  .then(({ characters }) => {\r\n    dispatch({\r\n      type: LOAD_ALL,\r\n      payload: {\r\n        characters\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nexport const loadOne = (id) => (dispatch) => {\r\n  api.loadCharacter(id)\r\n  .then(({ character }) => {\r\n    dispatch({\r\n      type: LOAD_ONE,\r\n      payload: { characters: [character] }\r\n    })\r\n  })\r\n}\r\n\r\nexport const changeCharacter = (id) => (dispatch) => {\r\n  dispatch({\r\n    type: CHANGE_CHARACTER,\r\n    payload: { id }\r\n  })\r\n}\r\n\r\nexport const createCharacter = () => (dispatch) => {\r\n  api.createCharacter()\r\n  .then(({ character }) => {\r\n    dispatch({\r\n      type: CREATE_CHARACTER,\r\n      payload: {\r\n        character\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nexport const updateData = (path, data) => (dispatch) => dispatch({\r\n  type: UPDATE_CHARACTER,\r\n  payload: {\r\n    path,\r\n    data\r\n  }\r\n})\r\n\r\nexport const levelUp = () => (dispatch) => dispatch({\r\n  type: LEVEL_UP,\r\n  payload: {}\r\n})\r\n\r\nexport const addFeat = () => (dispatch) => dispatch({\r\n  type: ADD_FEAT,\r\n  payload: {}\r\n})\r\n\r\nexport const updateFeat = (id, data) => (dispatch) => dispatch({\r\n  type: UPDATE_FEAT,\r\n  payload: { id, data }\r\n})\r\n\r\nexport const addSpell = (level) => (dispatch) => dispatch({\r\n  type: ADD_SPELL,\r\n  payload: { level }\r\n})\r\n\r\nexport const updateSpell = (id, data) => (dispatch) => dispatch({\r\n  type: UPDATE_SPELL,\r\n  payload: { id, data }\r\n})\r\n\r\nexport const revertData = (path) => (dispatch) => dispatch({\r\n  type: REVERT_CHARACTER,\r\n  payload: {\r\n    path,\r\n  }\r\n})\r\n\r\nexport const updateDeathSaveSuccesses = (count) => (dispatch) => {\r\n  dispatch({\r\n    type: UPDATE_DEATH_SAVES_SUCCESSES,\r\n    payload: {\r\n      count,\r\n    }\r\n  });\r\n};\r\n\r\nexport const updateDeathSaveFails = (count) => (dispatch) => dispatch({\r\n  type: UPDATE_DEATH_SAVES_FAILS,\r\n  payload: {\r\n    count,\r\n  }\r\n});\r\n\r\nexport const syncData = (id, data) => (dispatch) => {\r\n\r\n  openModal({\r\n    id: 'loading',\r\n    type: 'custom',\r\n    content: <Loading />\r\n  })(dispatch)\r\n\r\n  api.updateCharacter(id, data)\r\n    .then(({ character }) => {\r\n      closeModal({ id: 'loading' })(dispatch)\r\n      dispatch({\r\n        type: SYNC_CHARACTER,\r\n        payload: { character }\r\n      });\r\n    });\r\n};\r\n\r\n/**\r\n * HANDLERS\r\n *\r\n * Here we define handlers for our actions\r\n */\r\nconst actions = {}\r\n\r\nactions[LOAD_ALL] = (state, { payload: { characters } }) =>\r\n  Object.assign({}, state, { characters, loaded: true });\r\n\r\nactions[LOAD_ONE] = (state, { payload: { characters } }) =>\r\n  Object.assign({}, state, { characters, character: characters[0] })\r\n\r\nactions[CHANGE_CHARACTER] = (state, { payload: { id } }) => {\r\n  const character = cloneDeep(state.characters.filter(char => char._id === id)[0])\r\n\r\n  return Object.assign({}, state, { character })\r\n}\r\n\r\nactions[CREATE_CHARACTER] = (state, { payload: { character } }) =>\r\n  Object.assign({}, state, { characters: [...state.characters, character]})\r\n\r\n\r\nactions[UPDATE_CHARACTER] = (state, { payload: { path, data } }) => {\r\n  let newstate = cloneDeep(state);\r\n  newstate.update.data[path] = data;\r\n  newstate.update.empty = false;\r\n\r\n  return Object.assign({}, state, newstate);\r\n}\r\n\r\n//const regex = /([{](\\w+)[}])/g\r\n\r\nactions[LEVEL_UP] = (state) => {\r\n  // TODO: get this setup to work right.\r\n}\r\n\r\nactions[ADD_FEAT] = (state) =>  {\r\n  let id = nanoid(lowercased, 24)\r\n\r\n  return merge({}, state, { update: { empty: false, data: { feats: [...state.update.data.feats || [], { name: 'new feat', uses: 0, description: 'click to edit me', id, new: true } ] } } })\r\n}\r\n\r\nactions[UPDATE_FEAT] = (state, { payload: { id, data } }) => {\r\n  let feats = cloneDeep(state.update.data.feats || []);\r\n\r\n  let update = { ...data, id }\r\n\r\n  let isUpdated = false;\r\n\r\n  for (let f = 0; f < feats.length; f++) {\r\n    let feat = feats[f];\r\n\r\n    if (feat.id === id) {\r\n      feats[f] = merge(feats[f], update);\r\n      isUpdated = true\r\n    }\r\n\r\n  }\r\n\r\n  if (!isUpdated) feats.push(update);\r\n\r\n  return merge(state, { update: { data: { feats }, empty: false } });\r\n}\r\n\r\nactions[ADD_SPELL] = (state, { payload: { level } }) =>  {\r\n  let id = nanoid(lowercased, 24)\r\n\r\n  return merge({}, state, { update: { empty: false, data: { spells: [...state.update.data.spells || [],\r\n    {\r\n      id,\r\n      level,\r\n      name: 'New Spell',\r\n      school: 'divination',\r\n      castingTime: '1 action',\r\n      range: '15 feet',\r\n      verbal: false,\r\n      somatic: false,\r\n      material: [],\r\n      concentration: false,\r\n      ritual: false,\r\n      duration: '1 minute',\r\n      description: 'Here\\'s your new spell edit it to your hearts content bud.',\r\n      new: true\r\n    }\r\n  ] } } })\r\n}\r\n\r\nactions[UPDATE_SPELL] = (state, { payload: { id, data } }) => {\r\n  let spells = cloneDeep(state.update.data.spells || []);\r\n\r\n  let update = { ...data, id }\r\n\r\n  let isUpdated = false;\r\n\r\n  for (let s = 0; s < spells.length; s++) {\r\n    let spell = spells[s];\r\n\r\n    if (spell.id === id) {\r\n      spells[s] = merge(spells[s], update);\r\n      isUpdated = true\r\n    }\r\n\r\n  }\r\n\r\n  if (!isUpdated) spells.push(update);\r\n\r\n  return merge(state, { update: { data: { spells }, empty: false } });\r\n}\r\n\r\nactions[REVERT_CHARACTER] = (state, { payload: { path } }) => {\r\n  let newstate = cloneDeep(state);\r\n  delete newstate.update.data[path];\r\n\r\n  if (Object.keys(newstate.update.data).length === 0) newstate.update.empty = true;\r\n\r\n  return Object.assign({}, state, newstate);\r\n}\r\n\r\nactions[SYNC_CHARACTER] = (state, { payload: { character } }) =>\r\n  Object.assign({}, state, { character, update: { empty: true, data: {} } })\r\n\r\nactions[UPDATE_DEATH_SAVES_SUCCESSES] = (state, { payload: { count } }) => {\r\n  const successesSaves = {\r\n    first: count > 0 ? true : false,\r\n    second: count > 1 ? true : false,\r\n    third: count > 2 ? true : false\r\n  };\r\n  return merge({}, state, { character: { deathsaves: { success: successesSaves } } });\r\n};\r\n\r\nactions[UPDATE_DEATH_SAVES_FAILS] = (state, { payload: { count } }) => {\r\n  const deathSaves = {\r\n    first: count > 0 ? true : false,\r\n    second: count > 1 ? true : false,\r\n    third: count > 2 ? true : false\r\n  };\r\n  let newState = Object.assign ({}, state)\r\n\r\n  newState.character.deathsaves.fails = deathSaves;\r\n\r\n  return merge({}, newState);\r\n};\r\n\r\n// REDUCER\r\n\r\nconst initialState = {\r\n  characters: [],\r\n  character: false,\r\n  loaded: false,\r\n  update: {\r\n    empty: true,\r\n    data: {}\r\n  }\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  const handler = actions[action.type]\r\n\r\n  return handler ? handler(state, action) : state;\r\n}","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { FaBars } from 'react-icons/fa'\r\nimport Text from './Text';\r\n\r\nconst Container = styled.header`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 15px;\r\n  background-color: ${props => props.theme.light};\r\n  width: 100vw;\r\n  height: 60px;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  border-bottom: 1px solid ${props => props.theme.middleblack};\r\n  box-shadow: 0 1px 0 rgba(0,0,0,.2), 0 1.5px 0 rgba(0,0,0,.05), 0 2px 0 rgba(0,0,0,.05);\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  text-align: center;\r\n  font-size: 1.6em;\r\n  height: 60px;\r\n  line-height: 60px;\r\n`\r\n\r\nconst MenuIcon = styled(FaBars)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n`\r\n\r\nconst NavButton = ({ onClick }) =>\r\n  <MenuIcon onClick={onClick} />\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const {\r\n      bgStyles,\r\n      leftClick = () => {}, LeftComponent = NavButton,\r\n      title = 'title',\r\n      RightComponent = 'div', rightClick = () => {}\r\n    } = this.props;\r\n\r\n    return (\r\n      <Container style={bgStyles}>\r\n        <LeftComponent onClick={leftClick} />\r\n\r\n        <Title>{title}</Title>\r\n\r\n        <RightComponent onClick={rightClick} />\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { Link as L } from 'react-router-dom';\r\nimport Text from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  padding: 5px;\r\n  width: 90%;\r\n  margin: 10px\r\n  border-radius: 5px;\r\n  height: 150px;\r\n  background: url('https://cdn.discordapp.com/attachments/391809595473002496/579335189331836939/233.png');\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n`\r\n\r\nconst Link = styled(L)`\r\n  text-decoration: none;\r\n`\r\n\r\nconst Character = (props) => {\r\n  const { name, job, lvl, id } = props;\r\n\r\n  return (\r\n    <Container>\r\n      <Link to={`/characters/${id}`}>\r\n        <Text>{name}</Text><Text>{job}: {lvl}</Text>\r\n      </Link>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Character;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { loadAll, createCharacter } from '../reducers/characters';\r\nimport { startCharacterCreation, changeCharacterCreationStage, toggleSideNav } from '../reducers/ui';\r\n\r\nimport Header from '../components/Header';\r\n\r\n//import CharacterCreation from '../components/CharacterCreation';\r\nimport Character from '../components/Character';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 70px 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n`\r\n\r\nconst CreateCharacter = styled.p`\r\n  color: ${props => props.theme.text};\r\n  background-color: ${props => props.theme.green};\r\n  position: fixed;\r\n  bottom: 30px;\r\n  right: 20px;\r\n  font-size: 2em;\r\n  padding: 10px 20px;\r\n  border-radius: 50%;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(0, 0, 0, .1);\r\n`\r\n\r\nclass Characters extends Component {\r\n  componentWillMount() {\r\n    if (!this.props.loaded) this.props.loadAll()\r\n  }\r\n\r\n  render() {\r\n\r\n    const { characters, createCharacter, creatingCharacter,\r\n      toggleSideNav\r\n    } = this.props;\r\n\r\n    if (creatingCharacter) {\r\n      return (\r\n        {\r\n          //<CharacterCreation stage={creationStage} changeStage={changeCharacterCreationStage} />\r\n        }\r\n      )\r\n    }\r\n\r\n    return (\r\n      <Container>\r\n        <Header title='Characters' leftClick={toggleSideNav} />\r\n        {\r\n\r\n          (characters.length === 0) ? null :\r\n\r\n            characters.map(character => {\r\n              const { name, job, lvl } = character\r\n\r\n              return <Character key={character._id} name={name} job={job} lvl={lvl} character={character} id={character._id} />\r\n            })\r\n        }\r\n\r\n        <CreateCharacter onClick={createCharacter}>&#43;</CreateCharacter>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    characters: state.characters.characters,\r\n    loaded: state.characters.loaded,\r\n    creatingCharacter: state.ui.creatingCharacter,\r\n    creationStage: state.ui.creationStage\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps, {\r\n  loadAll, createCharacter, startCharacterCreation,\r\n  changeCharacterCreationStage, toggleSideNav\r\n})(Characters));","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from '../../components/Text';\r\n\r\nconst BackDrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, .6);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  max-height: 60%;\r\n  background-color: ${props => props.theme.light};\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\n\r\nconst Title = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.7em;\r\n  padding-bottom: 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`\r\n\r\nconst Button = styled(T)`\r\n  background-color: ${props => props.cancel ? props.theme.red : props.theme.green};\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-size: 1.3em;\r\n  text-align: center;\r\n  width: 40%;\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin: 0 15px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  background: ${props => props.theme.dark};\r\n  border: 2px solid ${props => props.theme.middleblack};\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.4em;\r\n  width: 80%;\r\n  text-align: center;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nclass ChangeName extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: props.name\r\n    }\r\n\r\n    this.handleName = this.handleName.bind(this);\r\n    this.confirmChange = this.confirmChange.bind(this);\r\n  }\r\n\r\n  handleName(event) {\r\n    this.setState({ value: event.target.value });\r\n  }\r\n\r\n  confirmChange() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const { value } = this.state;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        name: value\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <BackDrop onClick={requestClose}>\r\n        <Container onClick={(e) => e.stopPropagation()}>\r\n\r\n          <Title>Edit Name</Title>\r\n\r\n          <Input defaultValue={value} onChange={this.handleName} />\r\n\r\n          <Row>\r\n            <Button onClick={requestClose} cancel>Cancel</Button>\r\n            <Button onClick={this.confirmChange}>Confirm</Button>\r\n          </Row>\r\n\r\n        </Container>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChangeName;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nimport ChangeName from '../modals/SideInfo/ChangeName';\r\n\r\nconst Text = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.7em;\r\n\r\n  padding: 0 5px;\r\n  width: 100%;\r\n`\r\n\r\nclass CharacterName extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  \r\n    this.changeName = this.changeName.bind(this);\r\n  }\r\n\r\n  changeName() {\r\n    const { openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'namechangemodal',\r\n      type: 'custom',\r\n      content: <ChangeName {...this.props} requestClose={() => closeModal({ id: 'namechangemodal' })} />\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { name } = this.props;\r\n\r\n    return (\r\n      <Text onClick={this.changeName}>{name}</Text>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CharacterName;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from '../../components/Text';\r\n\r\nconst BackDrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, .6);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  max-height: 60%;\r\n  background-color: ${props => props.theme.light};\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\n\r\nconst Title = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.7em;\r\n  padding-bottom: 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`\r\n\r\nconst Button = styled(T)`\r\n  background-color: ${props => props.cancel ? props.theme.red : props.theme.green};\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-size: 1.3em;\r\n  text-align: center;\r\n  width: 40%;\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin: 0 15px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  background: ${props => props.theme.dark};\r\n  border: 2px solid ${props => props.theme.middleblack};\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.4em;\r\n  width: 80%;\r\n  text-align: center;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nclass ChangeClass extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: props.job\r\n    }\r\n\r\n    this.handleClass = this.handleClass.bind(this);\r\n    this.confirmChange = this.confirmChange.bind(this);\r\n  }\r\n\r\n  handleClass(event) {\r\n    this.setState({ value: event.target.value });\r\n  }\r\n\r\n  confirmChange() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const { value } = this.state;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        job: value\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <BackDrop onClick={requestClose}>\r\n        <Container onClick={(e) => e.stopPropagation()}>\r\n\r\n          <Title>Edit Class</Title>\r\n\r\n          <Input defaultValue={value} onChange={this.handleClass} />\r\n\r\n          <Row>\r\n            <Button onClick={requestClose} cancel>Cancel</Button>\r\n            <Button onClick={this.confirmChange}>Confirm</Button>\r\n          </Row>\r\n\r\n        </Container>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChangeClass;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nimport ChangeClass from '../modals/SideInfo/ChangeClass';\r\n\r\nconst Text = styled(T)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 1.5em;\r\n\r\n  padding: 5px;\r\n  width: 100%;\r\n`\r\n\r\nclass CharacterClass extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.changeClass = this.changeClass.bind(this);\r\n  }\r\n\r\n  changeClass() {\r\n    const { openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'classchangemodal',\r\n      type: 'custom',\r\n      content: <ChangeClass {...this.props} requestClose={() => closeModal({ id: 'classchangemodal' })} />\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { job } = this.props;\r\n\r\n    return (\r\n      <Text onClick={this.changeClass}>{job}</Text>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CharacterClass;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from '../../components/Text';\r\n\r\nconst BackDrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, .6);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  max-height: 60%;\r\n  background-color: ${props => props.theme.light};\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\n\r\nconst Title = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.7em;\r\n  padding-bottom: 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`\r\n\r\nconst Button = styled(T)`\r\n  background-color: ${props => props.cancel ? props.theme.red : props.theme.green};\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-size: 1.3em;\r\n  text-align: center;\r\n  width: 40%;\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin: 0 15px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  background: ${props => props.theme.dark};\r\n  border: 2px solid ${props => props.theme.middleblack};\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.4em;\r\n  width: 50%;\r\n  text-align: center;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nclass Health extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      current: props.current,\r\n      max: props.max,\r\n      temp: props.temp\r\n    }\r\n\r\n    this.handleCurrent = this.handleCurrent.bind(this);\r\n    this.handleMax = this.handleMax.bind(this);\r\n    this.handleTemp = this.handleTemp.bind(this);\r\n    this.confirmChange = this.confirmChange.bind(this);\r\n  }\r\n\r\n  handleCurrent(event) {\r\n    this.setState({ current: event.target.value });\r\n  }\r\n\r\n  handleMax(event) {\r\n    this.setState({ max: event.target.value });\r\n  }\r\n\r\n  handleTemp(event) {\r\n    this.setState({ temp: event.target.value });\r\n  }\r\n\r\n  confirmChange() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const { current, max, temp } = this.state;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        hp: {\r\n          current,\r\n          max,\r\n          temp\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { current, max, temp } = this.state;\r\n\r\n    return (\r\n      <BackDrop onClick={requestClose}>\r\n        <Container onClick={(e) => e.stopPropagation()}>\r\n\r\n          <Title>Edit Health</Title>\r\n\r\n          <Row>\r\n            <Input type='number' defaultValue={current} onChange={this.handleCurrent} />\r\n            <Input type='number' defaultValue={max} onChange={this.handleMax} />\r\n            <Input type='number' defaultValue={temp} onChange={this.handleTemp} />\r\n          </Row>\r\n\r\n          <Row>\r\n            <Button onClick={requestClose} cancel>Cancel</Button>\r\n            <Button onClick={this.confirmChange}>Confirm</Button>\r\n          </Row>\r\n\r\n        </Container>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Health;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nimport EditHealth from '../modals/SideInfo/Health';\r\n\r\nconst BarContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  position: relative;\r\n  width: 100%;\r\n  height: 1.7em;\r\n\r\n  background-color: ${props => props.theme.middleblack};\r\n  border-left: 2px;\r\n  border-right: 2px;\r\n  border-style: solid;\r\n  border-color: ${props => props.theme.almostblack};\r\n`\r\n\r\nconst BarFiller = styled.div`\r\n  display: flex;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n\r\n  width: ${props => `${props.value}%`};\r\n\r\n  background-color: ${props => props.theme[props.color] || props.theme.text};\r\n`\r\n\r\nconst Text = styled(T)`\r\n  z-index: 50;\r\n  color: ${props => props.theme.text};\r\n  opacity: .8;\r\n`\r\n\r\nconst determinPercent = (current, max, temp = 0, isTemp = true) => ((current + ((isTemp) ? temp : 0)) / (max + temp)) * 100;\r\n\r\nclass HP extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editHP = this.editHP.bind(this);\r\n  }\r\n\r\n  editHP() {\r\n    const { openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'hpeditmodal',\r\n      type: 'custom',\r\n      content: <EditHealth {...this.props} requestClose={() => closeModal({ id: 'hpeditmodal' })} />\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { current, max, temp } = this.props;\r\n\r\n    const tempRender = determinPercent(current, max, temp);\r\n    const hpRender = determinPercent(current, max, temp, false);\r\n\r\n    return (\r\n      <BarContainer onClick={this.editHP}>\r\n        <Text>HP: {current}/{max} {(temp) ? ` (+${temp})` : ''}</Text>\r\n        <BarFiller value={tempRender} color='blue' />\r\n        <BarFiller value={hpRender} color='green' />\r\n      </BarContainer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HP;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from '../../components/Text';\r\n\r\nconst BackDrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, .6);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  max-height: 60%;\r\n  background-color: ${props => props.theme.light};\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\n\r\nconst Title = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.7em;\r\n  padding-bottom: 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`\r\n\r\nconst Button = styled(T)`\r\n  background-color: ${props => props.cancel ? props.theme.red : props.theme.green};\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-size: 1.3em;\r\n  text-align: center;\r\n  width: 40%;\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin: 0 15px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  background: ${props => props.theme.dark};\r\n  border: 2px solid ${props => props.theme.middleblack};\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.4em;\r\n  width: 50%;\r\n  text-align: center;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nclass Experience extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: props.current\r\n    }\r\n\r\n    this.handleExp = this.handleExp.bind(this);\r\n    this.confirmChange = this.confirmChange.bind(this);\r\n  }\r\n\r\n  handleExp(event) {\r\n    this.setState({ value: event.target.value });\r\n  }\r\n\r\n  confirmChange() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const { value } = this.state;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        exp: value\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <BackDrop onClick={requestClose}>\r\n        <Container onClick={(e) => e.stopPropagation()}>\r\n\r\n          <Title>Edit Experience</Title>\r\n\r\n          <Input type='number' defaultValue={value} onChange={this.handleExp} />\r\n\r\n          <Row>\r\n            <Button onClick={requestClose} cancel>Cancel</Button>\r\n            <Button onClick={this.confirmChange}>Confirm</Button>\r\n          </Row>\r\n\r\n        </Container>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Experience;","\r\nexport const getLevel = (exp) => {\r\n  let moreThanLevels = Object.keys(levels).filter(lvl => exp >= levels[lvl].exp);\r\n\r\n  return moreThanLevels[moreThanLevels.length - 1]\r\n}\r\n\r\nconst levels = {\r\n  1: {\r\n    exp: 0,\r\n    prof: 2\r\n  },\r\n  2: {\r\n    exp: 300,\r\n    prof: 2\r\n  },\r\n  3: {\r\n    exp: 900,\r\n    prof: 2\r\n  },\r\n  4: {\r\n    exp: 2700,\r\n    prof: 2\r\n  },\r\n  5: {\r\n    exp: 6500,\r\n    prof: 3\r\n  },\r\n  6: {\r\n    exp: 14000,\r\n    prof: 3\r\n  },\r\n  7: {\r\n    exp: 23000,\r\n    prof: 3\r\n  },\r\n  8: {\r\n    exp: 34000,\r\n    prof: 3\r\n  },\r\n  9: {\r\n    exp: 48000,\r\n    prof: 4\r\n  },\r\n  10: {\r\n    exp: 64000,\r\n    prof: 4\r\n  },\r\n  11: {\r\n    exp: 85000,\r\n    prof: 4\r\n  },\r\n  12: {\r\n    exp: 100000,\r\n    prof: 4\r\n  },\r\n  13: {\r\n    exp: 120000,\r\n    prof: 5\r\n  },\r\n  14: {\r\n    exp: 140000,\r\n    prof: 5\r\n  },\r\n  15: {\r\n    exp: 165000,\r\n    prof: 5\r\n  },\r\n  16: {\r\n    exp: 195000,\r\n    prof: 5\r\n  },\r\n  17: {\r\n    exp: 225000,\r\n    prof: 6\r\n  },\r\n  18: {\r\n    exp: 265000,\r\n    prof: 6\r\n  },\r\n  19: {\r\n    exp: 305000,\r\n    prof: 6\r\n  },\r\n  20: {\r\n    exp: 355000,\r\n    prof: 6\r\n  }\r\n}\r\n\r\nexport default levels;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nimport EditExperience from '../modals/SideInfo/Experience';\r\n\r\nimport levels from '../data/levels';\r\n\r\nconst getMaxExp = (exp) => levels[Object.keys(levels).find(lvl => exp < levels[lvl].exp)].exp\r\n\r\nconst BarContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  position: relative;\r\n  width: 100%;\r\n  height: 1.7em;\r\n\r\n  background-color: ${props => props.theme.middleblack};\r\n  border-left: 2px;\r\n  border-right: 2px;\r\n  border-style: solid;\r\n  border-color: ${props => props.theme.almostblack};\r\n`\r\n\r\nconst BarFiller = styled.div`\r\n  display: flex;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n\r\n  width: ${props => `${props.value}%`};\r\n\r\n  background-color: ${props => props.theme[props.color] || props.theme.text};\r\n`\r\n\r\nconst Text = styled(T)`\r\n  z-index: 50;\r\n  color: rgb(255, 255, 255, .8);\r\n`\r\n\r\nconst determinPercent = (current, max, temp = 0, isTemp = true) => ((current + ((isTemp) ? temp : 0)) / (max + temp)) * 100;\r\n\r\nclass EXP extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editEXP = this.editEXP.bind(this);\r\n  }\r\n\r\n  editEXP() {\r\n    const { openModal, closeModal } = this.props;\r\n\r\n    openModal({\r\n      id: 'expeditmodal',\r\n      type: 'custom',\r\n      content: <EditExperience {...this.props} requestClose={() => closeModal({ id: 'expeditmodal' })} />\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { current } = this.props;\r\n\r\n    const max = getMaxExp(current)\r\n\r\n    const expRender = determinPercent(current, max);\r\n\r\n    return (\r\n      <BarContainer onClick={this.editEXP}>\r\n        <Text>EXP: {current}/{max}</Text>\r\n        <BarFiller value={expRender} color='gold' />\r\n      </BarContainer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EXP;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  flex-grow: 1;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n`\r\n\r\nclass ArmorClass extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { name, path, syncData, characterID, value } = this.props;\r\n\r\n    const newValue = Number(prompt(`Edit ${name}`, value))\r\n\r\n    if (newValue === value) return;\r\n\r\n    syncData(\r\n      characterID,\r\n      {\r\n        [path]: newValue\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { name, value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>{name}</Text>\r\n\r\n        <Text>{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ArmorClass;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  width: 33.33%;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n`\r\n\r\nclass Speed extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { name, path, syncData, characterID, value } = this.props;\r\n\r\n    const newValue = Number(prompt(`Edit ${name}`, value))\r\n\r\n    if (newValue === value) return;\r\n\r\n    syncData(\r\n      characterID,\r\n      {\r\n        [path]: newValue\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { name, value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>{name}</Text>\r\n\r\n        <Text>{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Speed;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  width: 33.33%;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n`\r\n\r\nclass Initiative extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { name, path, syncData, characterID, value } = this.props;\r\n\r\n    const newValue = Number(prompt(`Edit ${name}`, value))\r\n\r\n    if (newValue === value) return;\r\n\r\n    syncData(\r\n      characterID,\r\n      {\r\n        [path]: newValue\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { name, value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>{name}</Text>\r\n\r\n        <Text>+{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Initiative;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  width: 33.33%;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n`\r\n\r\nclass Proficiency extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { name, path, syncData, characterID, value } = this.props;\r\n\r\n    const newValue = Number(prompt(`Edit ${name}`, value))\r\n\r\n    if (newValue === value) return;\r\n\r\n    syncData(\r\n      characterID,\r\n      {\r\n        [path]: newValue\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { name, value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>{name}</Text>\r\n\r\n        <Text>+{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Proficiency;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  width: 33.33%;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n`\r\n\r\nclass PassivePerception extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { path, syncData, characterID, value } = this.props;\r\n\r\n    const newValue = Number(prompt('Edit Passive Perception', value))\r\n\r\n    if (newValue === value) return;\r\n\r\n    syncData(\r\n      characterID,\r\n      {\r\n        [path]: newValue\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>PP</Text>\r\n\r\n        <Text>{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PassivePerception;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  width: 33.33%;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n`\r\n\r\nclass HitDice extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { path, syncData, characterID, value } = this.props;\r\n\r\n    const newValue = Number(prompt('Edit Hit Dice', value))\r\n\r\n    if (newValue === value) return;\r\n\r\n    syncData(\r\n      characterID,\r\n      {\r\n        [path]: newValue\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>HD</Text>\r\n\r\n        <Text>{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HitDice;","import merge from 'lodash.merge';\r\nimport cloneDeep from 'lodash.clonedeep';\r\n\r\n\r\nexport { merge, cloneDeep }\r\n\r\n// determin the modifier from a stat.\r\nexport const determinMod = (val) => Math.floor((val - 10) / 2);\r\n\r\nexport const renderReq = (prereqs = []) => {\r\n  if (prereqs.length === 0) return ''\r\n\r\n  return prereqs.map(({ type, which, value }) => {\r\n    switch (type) {\r\n      case 'ability':\r\n        return `${value} ${which.toLowerCase()}`\r\n      case ('race', 'subrace'):\r\n        return value\r\n      case 'prof':\r\n        return `${value} proficiency`\r\n      case 'level':\r\n        return `level ${value}`\r\n      case 'special':\r\n        return value\r\n      default:\r\n        return ''\r\n    }\r\n  }).join(', ')\r\n}\r\n\r\nconst diceRegex = /((\\d+)d(\\d+)(\\w))/gi\r\n// parser out data strings.\r\nexport const diceParser = (string, attack = false, justCheck = false) => {\r\n  diceRegex.exec()\r\n}\r\n\r\n// merge an updates array into our user data\r\n// array for easy rendering\r\nexport const mergeUpdates = (array, updates = []) => {\r\n  if (updates.length === 0) return array;\r\n\r\n  let modUpdates = new Map();\r\n\r\n  let newUpdates = updates.filter(update => {\r\n    if (update.new) return true\r\n\r\n    modUpdates.set(update.id, update);\r\n    return false;\r\n  })\r\n\r\n  return array.map(value => modUpdates.has(value.id) ? merge(value, modUpdates.get(value.id)) : value)\r\n    .concat(newUpdates).filter(item => !item.remove);\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from './Text';\r\n\r\nimport { determinMod } from '../helpers';\r\n\r\nconst Bonus = styled(Text)`\r\n  color: ${(props) => (props.value < 10) ? props.theme.red : props.theme.green};\r\n\r\n  ::before {\r\n    content: ${(props) => (props.value < 10) ? '' : `'+'`};\r\n  }\r\n`\r\n\r\nexport default (props) => <Bonus {...props}>{determinMod(props.value)}</Bonus>;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport B from './Bonus';\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  padding: 10px;\r\n  align-items: center;\r\n  width: 33.33%;\r\n  border: 2px solid ${props => props.theme.almostblack};\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n`\r\n\r\nconst Bonus = styled(B)`\r\n  font-size: 1.5em;\r\n`\r\n\r\nclass CharacterStat extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.editStat = this.editStat.bind(this)\r\n  }\r\n\r\n  editStat() {\r\n    const { name, path, syncData, characterID, value } = this.props;\r\n\r\n    const newValue = Number(prompt(`Edit ${name}`, value))\r\n\r\n    if (newValue === value) return;\r\n\r\n    syncData(\r\n      characterID,\r\n      {\r\n        [path]: newValue\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { name, value } = this.props;\r\n\r\n    return (\r\n      <Container onClick={this.editStat}>\r\n        <Text color='gold'>{name}</Text>\r\n\r\n        <Bonus value={value} />\r\n\r\n        <Text>{value}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CharacterStat;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Name from './CharacterName';\r\nimport Class from './CharacterClass';\r\nimport HP from './HP';\r\nimport EXP from './EXP';\r\nimport ArmorClass from './ArmorClass';\r\nimport Speed from './Speed';\r\nimport Initiative from './Initiative';\r\nimport Proficiency from './Proficiency';\r\nimport PassivePerception from './PassivePerception';\r\nimport HitDice from './HitDice';\r\nimport Stat from './Stat';\r\n\r\nconst Container = styled.div`\r\n  transition: 0.5s;\r\n  position: fixed;\r\n  z-index: 50;\r\n  top: 0;\r\n  right: 0;\r\n  width: 85%;\r\n  height: 100%;\r\n  overflow-y: auto;\r\n  background-color: ${props => props.theme.dark};\r\n  border-left: 1px solid ${props => props.theme.almostblack};\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n\r\n  @media screen and (device-aspect-ratio: 40/71) {\r\n    width: 100%;\r\n  }\r\n\r\n  right: ${props => props.isOpen ? '0' : '-100%'};\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst TopRow = styled(Row)`\r\n  width: 100%;\r\n`\r\n\r\nconst BottomContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst MenuItem = styled.a`\r\n  padding: 10px 15px;\r\n  text-decoration: none;\r\n  font-size: 2.3em;\r\n  color: ${props => props.theme.text};\r\n  display: block;\r\n`\r\n\r\nconst CloseButton = styled(MenuItem)`\r\n  font-size: 3em;\r\n`\r\n\r\nconst SideInfo = (props) => {\r\n  const { open, requestClose, char, syncData, openModal, closeModal } = props;\r\n  const { name, job, hp: { current, max, temp }, exp, stats, ac, speed, initiative, proficiency, passivePerception, hitdice } = char;\r\n\r\n  const extraProps = { syncData, characterID: char._id, openModal, closeModal }\r\n\r\n  return (\r\n    <Container isOpen={open}>\r\n      <TopRow>\r\n        <CloseButton onClick={requestClose}>&times;</CloseButton>\r\n      </TopRow>\r\n\r\n      <BottomContainer>\r\n        <Name name={name} {...extraProps} />\r\n        <Class job={job} {...extraProps} />\r\n\r\n        <HP current={current} max={max} temp={temp} {...extraProps} />\r\n        <EXP current={exp} {...extraProps} />\r\n\r\n        <Row>\r\n          <ArmorClass name='AC' path='ac' value={ac} {...extraProps} />\r\n          <Speed name='SPD' path='speed' value={speed} {...extraProps} /> \r\n          <Initiative name='INIT' path='initiative' value={initiative} {...extraProps} />\r\n        </Row>\r\n        <Row>\r\n          <Proficiency name='PROF' path='proficiency' value={proficiency} {...extraProps} />\r\n          <PassivePerception path='passivePerception' value={passivePerception} {...extraProps} />\r\n          <HitDice path='hitdice' value={hitdice} {...extraProps} />\r\n        </Row>\r\n\r\n        <Row>\r\n          <Stat name='STR' path='stats.strength' value={stats.strength} {...extraProps} />\r\n          <Stat name='DEX' path='stats.dexterity' value={stats.dexterity} {...extraProps} />\r\n          <Stat name='CON' path='stats.constitution' value={stats.constitution} {...extraProps} />\r\n        </Row>\r\n        <Row>\r\n          <Stat name='INT' path='stats.intelligence' value={stats.intelligence} {...extraProps} />\r\n          <Stat name='WIS' path='stats.wisdom' value={stats.wisdom} {...extraProps} />\r\n          <Stat name='CHA' path='stats.charisma' value={stats.charisma} {...extraProps}s />\r\n        </Row>\r\n      </BottomContainer>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default SideInfo;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from '../components/Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 70px 15px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  width: 100%;\r\n`\r\n\r\nconst Content = styled(Text)`\r\n  font-size: 2em;\r\n`\r\n\r\nconst Link = styled.a`\r\n  color: rgba(255, 255, 255, .6);\r\n  text-decoration: underline;\r\n`\r\n\r\nconst InfoTab = () => {\r\n  return (\r\n    <Container>\r\n      <Content>\r\n        This Tab isn't supported on mobile yet please join the <Link href='https://discord.gg/a5qSfxv'>discord</Link> or open a issue on <Link href='https://github.com/KingCosmic/BardsBallad'>github</Link> to push it higher on the priority list.\r\n      </Content>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default InfoTab;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nimport { determinMod } from '../helpers'\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 0 5px;\r\n  width: 100%;\r\n`\r\n\r\nconst CheckBox = styled.div`\r\n  height: ${props => props.size || '1em'};\r\n  width: ${props => props.size || '1em'};\r\n  background-color: ${props => props.checked ? props.theme[props.color || 'green'] || props.color : props.theme.grey};\r\n  margin-right: 5px;\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n  padding: 0 5px;\r\n`\r\n\r\nconst Value = styled(Text)`\r\n  text-decoration: underline ${props => props.theme.grey};\r\n  margin-right: 5px;\r\n`\r\n\r\nclass SavingThrow extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { throws, skill } = props;\r\n\r\n    this.path = `savingThrows.${skill}`;\r\n\r\n    this.state = {\r\n      efficient: throws[skill]\r\n    }\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange() {\r\n    const { revertData, updateData } = this.props;\r\n    const { efficient } = this.state;\r\n\r\n    this.setState({\r\n      efficient: !efficient\r\n    }, () => {\r\n      if (efficient !== this.props.efficient) {\r\n        return revertData(this.path);\r\n      }\r\n\r\n      updateData(this.path, !efficient);\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { skill, stats, prof } = this.props;\r\n    const { efficient } = this.state;\r\n\r\n    const mod = determinMod(stats[skill]);\r\n\r\n    return (\r\n      <Container>\r\n        <CheckBox size='1.8em' onClick={this.handleChange} checked={efficient} />\r\n\r\n        <Value>\r\n          {\r\n            (efficient ? mod + prof : mod) < 0 ? \r\n              (efficient ? mod + prof : mod) :\r\n              `+${(efficient ? mod + prof : mod) }`\r\n          }\r\n          </Value>\r\n\r\n        <Text>{skill}</Text>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SavingThrow;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport SavingThrow from './SavingThrow';\r\nimport Text from './Text';\r\n\r\nconst STR = 'strength'\r\nconst DEX = 'dexterity'\r\nconst CON = 'constitution'\r\nconst INT = 'intelligence'\r\nconst WIS = 'wisdom'\r\nconst CHA = 'charisma'\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 10px;\r\n  width: 100%;\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  margin-bottom: 5px;\r\n  font-size: 2em;\r\n  border-bottom: 1px solid ${props => props.theme.gold};\r\n`\r\n\r\nconst SavingThrows = (props) => {\r\n  return (\r\n    <Container>\r\n      <Title>Saving Throws</Title>\r\n\r\n      <SavingThrow key='1' skill={STR} {...props} />\r\n\r\n      <SavingThrow key='2' skill={DEX} {...props} />\r\n\r\n      <SavingThrow key='3' skill={CON} {...props} />\r\n\r\n      <SavingThrow key='4' skill={INT} {...props} />\r\n\r\n      <SavingThrow key='5' skill={WIS} {...props} />\r\n\r\n      <SavingThrow key='6' skill={CHA} {...props} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default SavingThrows;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from '../components/Text';\r\n\r\nconst Backdrop = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n\r\n  background-color: rgba(0, 0, 0, .3);\r\n`\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 80%;\r\n\r\n  padding: 0 20px;\r\n  background-color: ${props => props.theme.light};\r\n  border-radius: 5px;\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.8em;\r\n  padding-top: 10px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  margin: 10px 0;\r\n`\r\n\r\nconst ProfText = styled(Text)`\r\n  width: 2em;\r\n`\r\n\r\nconst CheckBox = styled.div`\r\n  background-color: ${props => props.checked ? props.theme[props.color] : props.theme.grey};\r\n  width: 2em;\r\n  height: 2em;\r\n`\r\n\r\nconst Button = styled.div`\r\n  background-color: ${props => props.theme[props.color]};\r\n  color: ${props => props.theme.text};\r\n  padding: 10px;\r\n  font-size: 1.5em;\r\n  border-radius: 4px;\r\n`\r\n\r\nclass SelectProficiency extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { efficient } = props;\r\n\r\n    this.state = {\r\n      value: efficient\r\n    }\r\n\r\n    this.changeValue = this.changeValue.bind(this);\r\n    this.confirmChange = this.confirmChange.bind(this);\r\n  }\r\n\r\n  changeValue(value) {\r\n    this.setState({\r\n      value\r\n    })\r\n  }\r\n\r\n  confirmChange() {\r\n    const { characterID, syncData, requestClose, skill, efficient } = this.props;\r\n    const { value } = this.state;\r\n\r\n    if (value === efficient) return requestClose();\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        [`skills.${skill}`]: value\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { title, requestClose } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <Backdrop onClick={requestClose}>\r\n        <Container onClick={(e) => e.stopPropagation()}>\r\n          <Title>{title.toUpperCase()}</Title>\r\n\r\n          <Row>\r\n            <ProfText>not</ProfText>\r\n            <ProfText>half</ProfText>\r\n            <ProfText>prof</ProfText>\r\n            <ProfText>expert</ProfText>\r\n          </Row>\r\n          <Row>\r\n            <CheckBox color='text' checked={value === 0} onClick={() => this.changeValue(0)} />\r\n            <CheckBox color='blue' checked={value === 1} onClick={() => this.changeValue(1)} />\r\n            <CheckBox color='green' checked={value === 2} onClick={() => this.changeValue(2)} />\r\n            <CheckBox color='gold' checked={value === 3} onClick={() => this.changeValue(3)} />\r\n          </Row>\r\n\r\n          <Row>\r\n            <Button color='red' onClick={requestClose}>cancel</Button>\r\n            <Button color='green' onClick={this.confirmChange}>confirm</Button>\r\n          </Row>\r\n        </Container>\r\n      </Backdrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SelectProficiency;","\r\nconst skills = {\r\n  'acrobatics': 'dexterity',\r\n  'animalHandling': 'wisdom',\r\n  'arcana': 'intelligence',\r\n  'athletics': 'strength',\r\n  'deception': 'charisma',\r\n  'history': 'intelligence',\r\n  'insight': 'wisdom',\r\n  'intimidation': 'charisma',\r\n  'investigation': 'intelligence',\r\n  'medicine': 'wisdom',\r\n  'nature': 'intelligence',\r\n  'perception': 'wisdom',\r\n  'performance': 'charisma',\r\n  'persuasion': 'charisma',\r\n  'religion': 'intelligence',\r\n  'sleightOfHand': 'dexterity',\r\n  'stealth': 'dexterity',\r\n  'survival': 'wisdom'\r\n}\r\n\r\nexport const skillToStat = skill => skills[skill] || null\r\n\r\nexport default skills;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nimport SelectProficiency from '../modals/SelectProficiency';\r\n\r\nimport { skillToStat } from '../data/skills';\r\nimport { determinMod } from '../helpers'\r\n\r\nconst modForStage = {\r\n  0: (mod) => mod,\r\n  1: (mod, prof) => mod + Math.floor((prof / 2)),\r\n  2: (mod, prof) => mod + prof,\r\n  3: (mod, prof) => mod + (prof * 2)\r\n}\r\n\r\nconst skillMap = {\r\n  'animalHandling': 'animal handling',\r\n  'sleightOfHand': 'sleight of hand'\r\n}\r\n\r\nconst stageMap = { 1: 'blue', 2: 'green', 3: 'gold' }\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 0 5px;\r\n  margin-top: 5px;\r\n`\r\n\r\nconst CheckBox = styled.div`\r\n  height: ${props => props.size || '1em'};\r\n  width: ${props => props.size || '1em'};\r\n  background-color: ${props => props.checked ? props.theme[props.color || 'green'] || props.color : props.theme.grey};\r\n  margin-right: 5px;\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.5em;\r\n  padding: 0 5px;\r\n`\r\n\r\nconst Stat = styled(Text)`\r\n  color: rgba(255, 255, 255, .6);\r\n  font-size: 1.2em;\r\n  @media screen and (device-aspect-ratio: 40/71) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst Value = styled(Text)`\r\n  text-decoration: underline ${props => props.theme.grey};\r\n  margin-right: 5px;\r\n`\r\n\r\nclass Skill extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick() {\r\n    const { characterID, openModal, closeModal, syncData, skills, skill } = this.props;\r\n\r\n    openModal({\r\n      id: 'selectproficiencymodal',\r\n      type: 'custom',\r\n      content: <SelectProficiency title={skillMap[skill] || skill} characterID={characterID} efficient={skills[skill]} skills={skills} skill={skill} syncData={syncData} requestClose={() => closeModal({ id: 'selectproficiencymodal' })} />\r\n    })\r\n  }\r\n  \r\n  render() {\r\n    const { stats, skills, skill, prof } = this.props;\r\n\r\n    const efficient = skills[skill]\r\n\r\n    const value = stats[skillToStat(skill)];\r\n\r\n    const mod = determinMod(value);\r\n\r\n    return (\r\n      <Container>\r\n        <CheckBox size='1.8em' onClick={this.handleClick} checked={efficient !== 0} color={stageMap[efficient]} />\r\n\r\n        <Value>\r\n          {\r\n            modForStage[efficient](mod, prof) < 0 ?\r\n              modForStage[efficient](mod, prof) :\r\n              `+${modForStage[efficient](mod, prof)}`\r\n          }  \r\n        </Value>\r\n\r\n        <Text>{skillMap[skill] || skill}</Text>\r\n\r\n        <Stat>({skillToStat(skill)})</Stat>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Skill;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Skill from './Skill';\r\nimport Text from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 10px;\r\n  width: 100%;\r\n`\r\n\r\nconst Title = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  margin-bottom: 5px;\r\n  font-size: 2em;\r\n  border-bottom: 1px solid ${props => props.theme.gold};\r\n`\r\n\r\nconst AC = 'acrobatics';\r\nconst AH = 'animalHandling';\r\nconst AR = 'arcana';\r\nconst AT = 'athletics';\r\nconst DE = 'deception';\r\nconst HI = 'history';\r\nconst IN = 'insight';\r\nconst INT = 'intimidation';\r\nconst INV = 'investigation';\r\nconst MED = 'medicine';\r\nconst NAT = 'nature';\r\nconst PER = 'perception';\r\nconst PERF = 'performance';\r\nconst PERS = 'persuasion';\r\nconst REL = 'religion';\r\nconst SOH = 'sleightOfHand';\r\nconst STE = 'stealth';\r\nconst SUR = 'survival';\r\n\r\nconst Skills = (props) => {\r\n  return (\r\n    <Container>\r\n      <Title>Skills</Title>\r\n\r\n      <Skill key='1' skill={AC} {...props} />\r\n      <Skill key='2' skill={AH} {...props} />\r\n      <Skill key='3' skill={AR} {...props} />\r\n      <Skill key='4' skill={AT} {...props} />\r\n      <Skill key='5' skill={DE} {...props} />\r\n      <Skill key='6' skill={HI} {...props} />\r\n      <Skill key='7' skill={IN} {...props} />\r\n      <Skill key='8' skill={INT} {...props} />\r\n      <Skill key='9' skill={INV} {...props} />\r\n      <Skill key='10' skill={MED} {...props} />\r\n      <Skill key='11' skill={NAT} {...props} />\r\n      <Skill key='12' skill={PER} {...props} />\r\n      <Skill key='13' skill={PERF} {...props} />\r\n      <Skill key='14' skill={PERS} {...props} />\r\n      <Skill key='15' skill={REL} {...props} />\r\n      <Skill key='16' skill={SOH} {...props} />\r\n      <Skill key='17' skill={STE} {...props} />\r\n      <Skill key='18' skill={SUR} {...props} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Skills;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport SavingThrows from '../components/SavingThrows';\r\nimport Skills from '../components/Skills';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 65px 15px;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  background-color: ${props => props.theme.light};\r\n`\r\n\r\nconst ContentContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst SkillsTab = ({ char, syncData, openModal, closeModal }) => {\r\n  const { savingThrows, skills, stats, proficiency, _id } = char;\r\n\r\n  const propInfo = { characterID: _id, prof: proficiency, stats, syncData, openModal, closeModal }\r\n\r\n  return (\r\n    <Container>\r\n      <ContentContainer>\r\n        <SavingThrows throws={savingThrows} {...propInfo} />\r\n        <Skills skills={skills} {...propInfo} />\r\n      </ContentContainer>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default SkillsTab;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 0 5px 5px;\r\n`\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  padding: 5px;\r\n  border-bottom: 1px solid ${props => props.theme.gold};\r\n  background-color: ${props => props.hcolor ? props.theme[props.hcolor] : props.theme.light};\r\n`\r\n\r\nconst HeaderText = styled(Text)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.4em;\r\n`\r\n\r\nconst ListSection = ({ title, Component, filter = () => true, data, headerColor, HeaderExtra = () => null, onClick = () => {} }) => {\r\n  const filterdData = data.filter(filter);\r\n\r\n  if (filterdData.length === 0) return null;\r\n\r\n  return (\r\n    <Container margin='0 5px 5px'>\r\n      <Header hcolor={headerColor}>\r\n        <HeaderText>{title}</HeaderText>\r\n        <HeaderExtra />\r\n      </Header>\r\n      <div>\r\n        {\r\n          filterdData.map((item, i) => {\r\n            return (\r\n              <Component item={item} {...item} index={i} key={item.id} onClick={() => onClick(item)} />\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default ListSection;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from './Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  user-select: none;\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.4em;\r\n`\r\n\r\nconst SlotOption = styled(Text)`\r\n  background-color: ${props => props.cast ? props.theme.red : props.theme.green};\r\n  border-radius: 4px;\r\n  padding: 0 2px;\r\n  width: 30px;\r\n  text-align: center;\r\n  margin-right: 5px;\r\n`\r\n\r\nconst SpellSlots = ({ slots: { current, max }, onClick, edit, level }) => {\r\n  return (\r\n    <Container>\r\n      <SlotOption onClick={() => edit(level, { current: current + 1, max })}>+1</SlotOption>\r\n      <SlotOption onClick={() => edit(level, { current: current - 1, max })} cast>-1</SlotOption>\r\n      <Text onClick={() => onClick(level)}>{current}/{max}</Text>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default SpellSlots;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\n// import Select from '../atms/Select';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n`\r\n\r\nconst SearchContainer = styled(Container)`\r\n  background-color: rgba(114, 118, 125, .3);\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(0, 0, 0, .1);\r\n  border-radius: 5px;\r\n`\r\n\r\nconst SearchInput = styled.input`\r\n  width: 100%;\r\n  background: transparent;\r\n  border: 1px solid black;\r\n\r\n  height: 44px;\r\n  font-size: 1.2em;\r\n  font-weight: 200;\r\n  font-family: OpenSans;\r\n\r\n  color: white;\r\n  border: none;\r\n  outline: none;\r\n\r\n  padding: 0 12px;\r\n  box-shadow: none;\r\n\r\n  &::placeholder {\r\n    color: rgba(255, 255, 255, .6);\r\n  }\r\n`\r\n\r\nconst SearchIcons = styled(Container)`\r\n  height: 44px;\r\n  font-size: 16px;\r\n  font-weight: 300;\r\n  line-height: 44px;\r\n`\r\n\r\nconst Select = styled.select`\r\n  appearance: none;\r\n  padding: 0 15px;\r\n  background-color: rgba(32, 34, 37, .3);\r\n  font-size: 1.2em;\r\n  color: ${props => props.theme.text};\r\n  font-family: OpenSans;\r\n  font-weight: 200;\r\n  outline: none;\r\n  border: none;\r\n`\r\n\r\nconst Search = ({ bgStyle, ph, onSearch, value, onFilter, filters = [], currentFilter }) => {\r\n  return (\r\n    <SearchContainer direction='row' style={bgStyle}>\r\n      <SearchInput placeholder={ph} spellcheck='false' value={value} onChange={onSearch} />\r\n      <SearchIcons direction='row'>\r\n        <Select>\r\n          <option>ALL</option>\r\n        </Select>\r\n      </SearchIcons>\r\n    </SearchContainer>\r\n  )\r\n}\r\n\r\nexport default Search;","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Text from './Text';\r\n\r\nexport default class ClampLines extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.element = React.createRef();\r\n    this.original = props.text;\r\n    this.watch = true;\r\n    this.lineHeight = 0;\r\n    this.start = 0;\r\n    this.middle = 0;\r\n    this.end = 0;\r\n    this.uuid = props.id;\r\n    this.state = {\r\n      expanded: true,\r\n      noClamp: false,\r\n      text: props.text.substring(0, 20),\r\n    };\r\n\r\n    this.action = this.action.bind(this);\r\n\r\n    this.debounced = this.debounce(this.action, props.delay);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.text) {\r\n      this.lineHeight = this.element.current.clientHeight + 1;\r\n      this.clampLines();\r\n\r\n      if (this.watch) {\r\n        window.addEventListener('resize', this.debounced);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.debounced);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.text !== this.props.text) {\r\n      this.original = this.props.text;\r\n      this.clampLines();\r\n    }\r\n  }\r\n\r\n  debounce(func, wait, immediate) {\r\n    let timeout;\r\n\r\n    return () => {\r\n      let context = this,\r\n        args = arguments;\r\n      let later = () => {\r\n        timeout = null;\r\n        if (!immediate) func.apply(context, args);\r\n      };\r\n      let callNow = immediate && !timeout;\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(later, wait);\r\n      if (callNow) func.apply(context, args);\r\n    };\r\n  }\r\n\r\n  action() {\r\n    if (this.watch) {\r\n      this.setState({\r\n        noClamp: false,\r\n      });\r\n      this.clampLines();\r\n      this.setState({ expanded: !this.state.expanded });\r\n    }\r\n  }\r\n\r\n  clampLines() {\r\n    if (!this.element) return;\r\n\r\n    this.setState({\r\n      text: '',\r\n    });\r\n\r\n    let maxHeight = this.lineHeight * this.props.lines + 1;\r\n\r\n    this.start = 0;\r\n    this.middle = 0;\r\n    this.end = this.original.length;\r\n\r\n    while (this.start <= this.end) {\r\n      this.middle = Math.floor((this.start + this.end) / 2);\r\n      this.element.current.innerText = this.original.slice(0, this.middle);\r\n      if (this.middle === this.original.length) {\r\n        this.setState({\r\n          text: this.original,\r\n          noClamp: true,\r\n        });\r\n        return;\r\n      }\r\n\r\n      this.moveMarkers(maxHeight);\r\n    }\r\n\r\n    this.element.current.innerText =\r\n      this.original.slice(0, this.middle - 5) + this.getEllipsis();\r\n    this.setState({\r\n      text: this.original.slice(0, this.middle - 5) + this.getEllipsis(),\r\n    });\r\n  }\r\n\r\n  moveMarkers(maxHeight) {\r\n    if (this.element.current.clientHeight <= maxHeight) {\r\n      this.start = this.middle + 1;\r\n    } else {\r\n      this.end = this.middle - 1;\r\n    }\r\n  }\r\n\r\n  getEllipsis() {\r\n    return this.watch && !this.state.noClamp ? this.props.ellipsis : '';\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.text) {\r\n      return null;\r\n    }\r\n\r\n    const Element = this.props.component || Text;\r\n\r\n    return (\r\n      <Element ref={this.element}>\r\n        {this.state.text}\r\n      </Element>\r\n    );\r\n  }\r\n}\r\n\r\nClampLines.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  lines: PropTypes.number,\r\n  ellipsis: PropTypes.string,\r\n  className: PropTypes.string,\r\n  delay: PropTypes.number,\r\n  stopPropagation: PropTypes.bool,\r\n  innerElement: PropTypes.string,\r\n};\r\n\r\nClampLines.defaultProps = {\r\n  lines: 3,\r\n  ellipsis: '...',\r\n  delay: 300,\r\n  innerElement: 'div',\r\n  text: ''\r\n};","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport T from './Text';\r\nimport Clamp from './Clamp';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  padding: 5px;\r\n\r\n  ${props => (Math.abs(props.index % 2) === 1) && css`\r\n    background-color: rgba(0, 0, 0, .17);\r\n  `}\r\n`\r\n\r\nconst InnerContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`\r\n\r\nconst Header = styled(T)`\r\n  font-size: 1.2em;\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.1em;\r\n`\r\n\r\nconst SubText = styled(Text)`\r\n  color: rgba(255, 255, 255, .6);\r\n`\r\n\r\nconst Spell = ({ item, name, school, source, casttime, ritual, concentration, range, verbal, somatic, material, id, onClick, index }) => (\r\n  <Container index={index} key={id} onClick={() => onClick(item)}>\r\n    <InnerContainer>\r\n      <Header>{name}</Header>\r\n      <Header color='gold'>{source || 'CUSTOM'}</Header>\r\n    </InnerContainer>\r\n    <InnerContainer>\r\n      <Clamp text={`${verbal ? 'V,' : ''} ${somatic ? 'S,' : ''} ${material ? `M (${material})` : ''}`} component={SubText} lines={1} />\r\n      <Clamp text={`${casttime}, ${range}`} component={Text} lines={1} />\r\n    </InnerContainer>\r\n  </Container>\r\n)\r\n\r\nexport default Spell;","import React from 'react';\r\n\r\nconst Select = (props) => {\r\n  const { value, options, multi = false, onChange } = props;\r\n\r\n  return (\r\n    <select onChange={({ target: { value } }) => onChange(value)} defaultValue={value} multiple={multi}>\r\n      {\r\n        options.map(({ value, label }, i) => <option value={value}>{label}</option>)\r\n      }\r\n    </select>\r\n  )\r\n}\r\n\r\nexport default Select;","\r\nexport const spellDefaults = {\r\n  name: 'Custom Spell',\r\n  level: 0,\r\n  school: 'A',\r\n  ritual: false,\r\n  casttime: '',\r\n  range: '',\r\n  duration: '',\r\n  concentration: false,\r\n  verbal: false,\r\n  somatic: false,\r\n  material: '',\r\n  description: '',\r\n  higherlevels: ''\r\n}\r\n\r\nexport const itemDefaults = {\r\n  name: 'Custom Item',\r\n  rarity: 'N',\r\n  category: 'G',\r\n  magic: false,\r\n  attackStat: 'AUTO',\r\n  attackBonus: '',\r\n  damageStat: 'AUTO',\r\n  additionalDamage: '',\r\n  damage1: '2d6',\r\n  damage2: '',\r\n  range: '',\r\n  longRange: '',\r\n  properties: [],\r\n  requirements: [],\r\n  modifiers: [],\r\n  weight: 0,\r\n  quantity: 1,\r\n  value: 0,\r\n  desc: '',\r\n  reqAttune: false,\r\n  charges: '',\r\n  sources: []\r\n}\r\n\r\nexport const featDefaults = {\r\n  name: 'Custom Feature',\r\n  uses: 0,\r\n  desc: ''\r\n}\r\n\r\nexport const boolOptions = [{ value: false, label: 'False' }, { value: true, label: 'True' }]\r\n\r\nexport const sizes = {\r\n  'T': 'Tiny', 'S': 'Small', 'M': 'Medium', 'L': 'Large', 'H': 'Huge', 'G': 'Gargantuan'\r\n}\r\n\r\nexport const spellLevels = [\r\n  { value: 0, label: 'Cantrip' }, { value: 1, label: 'First' }, { value: 2, label: 'Second' }, { value: 3, label: 'Third' }, { value: 4, label: 'Fourth' }, { value: 5, label: 'Fifth' }, { value: 6, label: 'Sixth' }, { value: 7, label: 'Seventh' }, { value: 8, label: 'Eigth' }, { value: 9, label: 'Nineth' }\r\n]\r\n\r\nexport const schoolTypes = {\r\n  'ALL': 'All', 'A': 'Abjuration', 'C': 'Conjuration', 'D': 'Divinitation', 'E': 'Enchantment',\r\n  'V': 'Evocation', 'I': 'Illusion', 'N': 'Necromancy', 'T': 'Transmutation'\r\n}\r\n\r\nexport const schoolFilters = Object.keys(schoolTypes).map(key => ({\r\n  value: key,\r\n  label: schoolTypes[key]\r\n}))\r\n\r\nexport const schoolOptions = schoolFilters.filter((key, index) => index !== 0)\r\n\r\nexport const statTypes = {\r\n  'AUTO': 'Automatic', 'STR': 'Strength', 'DEX': 'Dexterity', 'CON': 'Constitution',\r\n  'INT': 'Intelligence', 'WIS': 'Wisdom', 'CHA': 'Charisma'\r\n}\r\n\r\nexport const statOptions = Object.keys(statTypes).map(key => ({\r\n  value: key,\r\n  label: statTypes[key]\r\n}))\r\n\r\nexport const rarityTypes = {\r\n  'N': 'None', 'C': 'Common', 'U': 'Uncommon', 'R': 'Rare', 'VR': 'Very Rare',\r\n  'L': 'Legendary', 'A': 'Artifact', 'UK': 'Unknown', 'UKM': 'Unknown (Magic)',\r\n  'V': 'Varies'\r\n}\r\n\r\nexport const rarityOptions = Object.keys(rarityTypes).map(key => ({\r\n  value: key,\r\n  label: rarityTypes[key]\r\n}))\r\n\r\nexport const itemTypes = {\r\n  'ALL': 'All', 'G': 'Adventuring Gear', 'LA': 'Light Armor', 'MA': 'Medium Armor', 'HA': 'Heavy Armor',\r\n  'S': 'Shield', 'M': 'Melee Weapon', 'R': 'Ranged Weapon', 'A': 'Ammunition', 'RD': 'Rod',\r\n  'ST': 'Staff', 'WD': 'Wand', 'RG': 'Ring', 'P': 'Potion', 'SC': 'Scroll', 'W': 'Wondrous Item',\r\n  'WE': 'Wealth', 'SCF': 'Spellcasting Focus', 'AT': 'Artison Tools', 'INS': 'Musical Instrument'\r\n}\r\n\r\nexport const typeFilters = Object.keys(itemTypes).map(key => ({\r\n  value: key,\r\n  label: itemTypes[key]\r\n}))\r\n\r\nexport const typeOptions = typeFilters.filter((key, index) => index !== 0);\r\n\r\nexport const damageTypes = {\r\n  'AUTO': 'Automatic', 'A': 'Acid', 'B': 'Bludgeoning', 'C': 'Cold', 'F': 'Fire', 'FO': 'Force',\r\n  'L': 'Lightning', 'N': 'Necrotic', 'P': 'Piercing', 'PO': 'Poison',\r\n  'PS': 'Psychic', 'R': 'Radiant', 'S': 'Slashing', 'T': 'Thunder'\r\n}\r\n\r\nexport const damageOptions = Object.keys(damageTypes).map(key => ({\r\n  value: key,\r\n  label: damageTypes[key]\r\n}))\r\n\r\nexport const propertyTypes = {\r\n  'LD': 'loading', 'L': 'light', 'F': 'finesse', 'T': 'thrown',\r\n  'H': 'heavy', 'R': 'reach', '2H': 'two-handed', 'V': 'versatile', 'S': 'special',\r\n  'RLD': 'reload', 'BF': 'Burst Fire', 'M': 'Martial', 'A': 'Ammunition'\r\n}\r\n\r\nexport const propOptions = Object.keys(propertyTypes).map(key => ({\r\n  value: key,\r\n  label: propertyTypes[key]\r\n}))","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from '../../components/Text';\r\nimport Select from '../../components/Select';\r\n\r\nimport { spellLevels, schoolOptions, boolOptions } from '../../data/constants';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 0 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst Input = styled.input`\r\n  background-color: transparent;\r\n  margin: 0;\r\n  padding: 0;\r\n  outline: none;\r\n  border: none;\r\n  color: ${props => props.theme.text};\r\n  font-size: 1em;\r\n  font-weight: 200;\r\n  font-family: 'OpenSans';\r\n\r\n  &::placeholder {\r\n    color: #8e9297;\r\n  }\r\n`\r\n\r\nconst TextArea = styled.textarea`\r\n  color: ${props => props.theme.text};\r\n  width: 100%;\r\n  min-height: 50px;\r\n  height: auto;\r\n  max-height: 150px;\r\n  font-size: 1em;\r\n  font-weight: 200;\r\n\r\n  margin: 0;\r\n\r\n  border-style: none;\r\n  outline: none;\r\n  resize: none;\r\n\r\n  background-color: transparent;\r\n  &::placeholder {\r\n    color: #8e9297;\r\n  }\r\n`\r\n\r\nconst PropertyContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 5px 0;\r\n  width: ${props => props.full ? '100%' : '50%'};\r\n`\r\n\r\nconst Property = (props) => {\r\n  const { title, value, placeholder, type, options, multi = false, full = false, callback } = props;\r\n\r\n  return (\r\n    <PropertyContainer full={full}>\r\n      <Text color='gold'>{title}</Text>\r\n\r\n      {\r\n        (type && type === 'select') ?\r\n          <Select value={value} options={options} multi={multi} onChange={callback} /> :\r\n          <Input type={type ? type : 'text'} placeholder={placeholder} value={value} onChange={({ target: { value } }) => callback(value)} />\r\n      }\r\n    </PropertyContainer>\r\n  )\r\n}\r\n\r\nconst EditSpell = (props) => {\r\n  const { editSpell,\r\n    spellData: {\r\n      name, level, school, ritual, casttime,\r\n      range, duration, concentration, verbal,\r\n      somatic, material, description, higherlevels\r\n    }\r\n  } = props;\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Property title='Name' placeholder='Fireball' value={name} callback={(value) => editSpell('name', value)} />\r\n        <Property title='Level' value={level} options={spellLevels} type='select' callback={(value) => editSpell('level', value)} />\r\n      </Row>\r\n      <Row>\r\n        <Property title='School' value={school} options={schoolOptions} type='select' callback={(value) => editSpell('school', value)} />\r\n        <Property title='Ritual' value={ritual} options={boolOptions} type='select' callback={(value) => editSpell('ritual', value)} />\r\n      </Row>\r\n      <Row>\r\n        <Property title='Casting Time' placeholder='1 Action' value={casttime} callback={(value) => editSpell('casttime', value)} />\r\n        <Property title='Range' placeholder='30 feet' value={range} callback={(value) => editSpell('range', value)} />\r\n      </Row>\r\n      <Row>\r\n        <Property title='Duration' placeholder='1 minute' value={duration} callback={(value) => editSpell('duration', value)} />\r\n        <Property title='Concentration' type='select' value={concentration} options={boolOptions} callback={(value) => editSpell('concentration', value)} />\r\n      </Row>\r\n\r\n      <Row>\r\n        <Property title='Verbal' value={verbal} options={boolOptions} type='select' callback={(value) => editSpell('verbal', value)} />\r\n        <Property title='Somatic' value={somatic} options={boolOptions} type='select' callback={(value) => editSpell('somatic', value)} />\r\n      </Row>\r\n      <Property title='Material' placeholder='A bit of sponge' value={material} callback={(value) => editSpell('material', value)} />\r\n\r\n      <Text margin='10px 0 0' color='gold'>Description</Text>\r\n      <TextArea placeholder='Spell description goes here' value={description} onChange={(event) => editSpell('description', event.target.value)} />\r\n\r\n      <Text margin='10px 0 0' color='gold'>Higher Levels</Text>\r\n      <TextArea placeholder='When you cast this spell using a spell slot of 5th level or higher, the bludgeoning damage increases by 1d8 for each slot level above 4th.' value={higherlevels} onChange={(event) => editSpell('higherlevels', event.target.value)} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default EditSpell;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Button from '../../components/Button';\r\n\r\nimport ListSection from '../../components/ListSection';\r\nimport SearchInput from '../../components/Search';\r\nimport Spell from '../../components/Spell';\r\n\r\nimport { schoolFilters } from '../../data/constants';\r\n\r\nimport srdSpells from '../../data/spells.json';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: calc(100% - 60px);\r\n  width: 100%;\r\n  padding: 15px;\r\n`\r\n\r\nconst List = styled.div`\r\n  overflow-y: auto;\r\n  margin: 10px 0;\r\n`\r\n\r\nconst CustomButton = styled(Button)`\r\n\r\n`\r\n\r\nconst listFilter = (level) => (spell) => spell.level === level\r\n\r\nconst Search = ({ onSearch, search, filter, changeFilter, openSpell, limit }) => {\r\n\r\n  const filteredSrd = srdSpells.filter(spell => spell.name.toLowerCase().includes(search.toLowerCase())).slice(0, 25)\r\n\r\n  return (\r\n    <Container>\r\n      <SearchInput onSearch={onSearch} value={search} ph='Search Spells...' filters={schoolFilters} currentFilter={filter} onFilter={changeFilter}\r\n        bgStyle={{ backgroundColor: '#72767D', boxShadow: '0 2px 5px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .1)' }}\r\n      />\r\n\r\n      <List>\r\n        <ListSection title='Cantrips' headerColor='dark' data={filteredSrd} filter={listFilter(0)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='First Level' headerColor='dark' data={filteredSrd} filter={listFilter(1)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Second Level' headerColor='dark' data={filteredSrd} filter={listFilter(2)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Third Level' headerColor='dark' data={filteredSrd} filter={listFilter(3)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Fourth Level' headerColor='dark' data={filteredSrd} filter={listFilter(4)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Fifth Level' headerColor='dark' data={filteredSrd} filter={listFilter(5)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Sixth Level' headerColor='dark' data={filteredSrd} filter={listFilter(6)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Seventh Level' headerColor='dark' data={filteredSrd} filter={listFilter(7)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Eigth Level' headerColor='dark' data={filteredSrd} filter={listFilter(8)} Component={Spell} onClick={openSpell} />\r\n        <ListSection title='Nineth Level' headerColor='dark' data={filteredSrd} filter={listFilter(9)} Component={Spell} onClick={openSpell} />\r\n      </List>\r\n      <CustomButton onClick={() => openSpell()}>Custom</CustomButton>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Search;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { FaArrowLeft, FaCheck } from 'react-icons/fa'\r\n\r\nimport EditSpell from './EditSpell';\r\nimport Header from '../../components/Header';\r\nimport Search from './Search';\r\n\r\nimport { cloneDeep, merge, mergeUpdates } from '../../helpers';\r\n\r\nimport { spellDefaults } from '../../data/constants';\r\n\r\nimport nanoid from 'nanoid/generate';\r\nimport lowercased from 'nanoid-dictionary/lowercase';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n`\r\n\r\nconst BackButton = styled(FaArrowLeft)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nconst ConfirmButton = styled(FaCheck)`\r\n  color: ${props => props.theme.green};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nclass AddSpell extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      filter: 'ALL',\r\n      search: '',\r\n      limit: 25,\r\n      creatingSpell: false,\r\n      spell: cloneDeep(spellDefaults)\r\n    }\r\n\r\n    this.changeFilter = this.changeFilter.bind(this)\r\n    this.onSearch = this.onSearch.bind(this)\r\n    this.openSpell = this.openSpell.bind(this)\r\n    this.showSpells = this.showSpells.bind(this)\r\n    this.editSpell = this.editSpell.bind(this)\r\n    this.onConfirm = this.onConfirm.bind(this)\r\n  }\r\n\r\n  changeFilter(filter) {\r\n    this.setState({ filter })\r\n  }\r\n\r\n  onSearch(event) {\r\n    this.setState({ search: event.target.value })\r\n  }\r\n\r\n  // change the modal to show a item for approval / customization\r\n  // before adding it to the item list.\r\n  openSpell(spell) {\r\n    if (spell) return this.setState({ creatingSpell: true, spell: merge({}, spellDefaults, spell) })\r\n\r\n    this.setState({\r\n      creatingSpell: true,\r\n      spell: cloneDeep(spellDefaults)\r\n    })\r\n  }\r\n\r\n  showSpells() {\r\n    this.setState({\r\n      creatingSpell: false\r\n    })\r\n  }\r\n\r\n  editSpell(path, data) {\r\n    this.setState({ spell: merge({}, this.state.spell, { [path]: data }) })\r\n  }\r\n\r\n  onConfirm() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const id = nanoid(lowercased, 24)\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        spells: mergeUpdates(this.props.spells, [{ ...this.state.spell, id, new: true }])\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { search, filter, limit, creatingSpell, spellInfo } = this.state;\r\n    const { requestClose } = this.props;\r\n\r\n    return (\r\n      <Container onMouseDown={(e) => e.stopPropagation()} creating={creatingSpell}>\r\n        <Header title={creatingSpell ? 'Edit Spell' : 'Add Spell'}\r\n          LeftComponent={BackButton} leftClick={creatingSpell ? this.showSpells : requestClose}\r\n          RightComponent={creatingSpell ? ConfirmButton : undefined}\r\n          rightClick={this.onConfirm}\r\n          bgStyles={{ position: 'static', zIndex: 60 }}\r\n        />\r\n        {\r\n          (creatingSpell === false) ? <Search onSearch={this.onSearch} search={search} limit={limit} openSpell={this.openSpell} filter={filter} changeFilter={this.changeFilter} /> :\r\n            <EditSpell spellInfo={spellInfo} editSpell={this.editSpell} spellData={this.state.spell} />\r\n        }\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddSpell;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M199 103v50h-78v30h270v-30h-78v-50H199zm18 18h78v32h-78v-32zm-79.002 80l30.106 286h175.794l30.104-286H137.998zm62.338 13.38l.64 8.98 16 224 .643 8.976-17.956 1.283-.64-8.98-16-224-.643-8.976 17.956-1.283zm111.328 0l17.955 1.284-.643 8.977-16 224-.64 8.98-17.956-1.284.643-8.977 16-224 .64-8.98zM247 215h18v242h-18V215z\",\n  fill: \"#fff\",\n  fillOpacity: 1\n});\n\nvar SvgDelete = function SvgDelete(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    style: {\n      height: 512,\n      width: 512\n    },\n    ref: svgRef\n  }, props), React.createElement(\"g\", {\n    className: \"\",\n    transform: \"translate(0,0)\",\n    style: {\n      touchAction: \"none\"\n    }\n  }, _ref2));\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDelete, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/delete.f7213e1d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M429.548 30.836c-.307-.003-.6.005-.875.024-2.212.147-3.34.653-4.576 1.89l-27.58 27.58 55.156 55.154 27.578-27.58c1.238-1.236 1.744-2.363 1.89-4.575.15-2.21-.37-5.433-1.805-9.163-2.87-7.46-9.277-16.667-17.055-24.445-7.778-7.778-16.985-14.185-24.445-17.055-3.264-1.255-6.138-1.81-8.287-1.83zm-45.758 42.22l-9.9 9.9 9.9 9.9 12.727 12.727 9.9 9.9 12.727 12.728 9.9 9.9 9.9-9.9-55.155-55.155zm-22.627 22.626L72.665 384.186l9.898 9.897 288.5-288.5-9.9-9.9zm22.627 22.63L95.29 406.808l9.9 9.902 288.5-288.5-9.9-9.9zm22.63 22.626l-288.502 288.5 9.897 9.9 288.503-288.5-9.9-9.9zM63.223 400.198l-12.12 30.306 30.393 30.394 30.305-12.12-6.61-6.612L92.46 429.44l-9.9-9.9-12.73-12.728-6.61-6.612zm-19.395 48.488l-12.993 32.478 32.478-12.992-19.486-19.485z\",\n  fill: \"#fff\",\n  fillOpacity: 1\n});\n\nvar SvgEdit = function SvgEdit(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    style: {\n      height: 512,\n      width: 512\n    },\n    ref: svgRef\n  }, props), React.createElement(\"g\", {\n    className: \"\",\n    transform: \"translate(0,0)\",\n    style: {\n      touchAction: \"none\"\n    }\n  }, _ref2));\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEdit, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/edit.c8faf3be.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Header from '../components/Header';\r\nimport T from '../components/Text';\r\n\r\nimport EditSpell from './AddSpell/EditSpell';\r\n\r\nimport { ReactComponent as Delete } from '../assets/delete.svg';\r\nimport { ReactComponent as Edit } from '../assets/edit.svg';\r\n\r\nimport { FaArrowLeft, FaCheck } from 'react-icons/fa'\r\n\r\nimport { cloneDeep, merge, mergeUpdates } from '../helpers';\r\n\r\nconst BackDrop = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n`\r\n\r\nconst Options = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst InfoContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0 15px;\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.2em;\r\n  margin: 5px 0;\r\n`\r\n\r\nconst SubText = styled.span`\r\n  color: rgba(255, 255, 255, .6);\r\n  font-size: 1em;\r\n`\r\n\r\nconst Description = styled(Text)`\r\n  margin-top: 10px;\r\n`\r\n\r\nconst BackButton = styled(FaArrowLeft)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nconst ConfirmButton = styled(FaCheck)`\r\n  color: ${props => props.theme.green};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nclass SpellInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { spells, spellID } = props;\r\n\r\n    this.state = {\r\n      isEditing: false,\r\n      spell: cloneDeep(spells.find(obj => obj.id === spellID))\r\n    }\r\n\r\n    this.toggleEditing = this.toggleEditing.bind(this)\r\n    this.editSpell = this.editSpell.bind(this)\r\n    this.confirmEdit = this.confirmEdit.bind(this)\r\n    this.deleteSpell = this.deleteSpell.bind(this)\r\n  }\r\n\r\n  toggleEditing() {\r\n    this.setState({\r\n      isEditing: !this.state.isEditing\r\n    })\r\n  }\r\n\r\n  editSpell(path, data) {\r\n    this.setState({ spell: merge({}, this.state.spell, { [path]: data }) })\r\n  }\r\n\r\n  confirmEdit() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        spells: mergeUpdates(this.props.spells, [{ ...this.state.spell }])\r\n      }\r\n    )\r\n  }\r\n\r\n  deleteSpell() {\r\n    const { spellID, requestClose, syncData, characterID } = this.props;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        spells: mergeUpdates(this.props.spells, [{ remove: true, id: spellID }])\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { isEditing,\r\n      spell: {\r\n        name, casttime, range, verbal, somatic, material,\r\n        duration, concentration, description, higherlevels\r\n      }\r\n    } = this.state;\r\n\r\n    if (isEditing) {\r\n      return (\r\n        <BackDrop onMouseDown={(e) => e.stopPropagation()}>\r\n          <Header title='editing'\r\n            LeftComponent={BackButton} leftClick={this.toggleEditing}\r\n            RightComponent={ConfirmButton}\r\n            rightClick={this.confirmEdit}\r\n            bgStyles={{ position: 'static', zIndex: 60 }}\r\n          />\r\n          <EditSpell spellInfo={this.state.spell} editSpell={this.editSpell} spellData={this.state.spell} />\r\n        </BackDrop>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <BackDrop onMouseDown={(e) => e.stopPropagation()}>\r\n        <Header title={name}\r\n          LeftComponent={BackButton} leftClick={requestClose}\r\n          RightComponent={() => (\r\n            <Options>\r\n              <Delete style={{ width: '2em', height: '2em' }} onClick={this.deleteSpell} />\r\n              <Edit style={{ width: '2em', height: '2em' }} onClick={this.toggleEditing} />\r\n            </Options>\r\n          )}\r\n          bgStyles={{ position: 'static', zIndex: 60 }}\r\n        />\r\n\r\n        <InfoContainer>\r\n          <Text>CastTime: <SubText>{casttime}</SubText></Text>\r\n          <Text>Range: <SubText>{range}</SubText></Text>\r\n          <Text>Components: <SubText>{verbal ? 'V, ' : ''} {somatic ? 'S, ' : ''} {material ? `M (${material})` : ''}</SubText></Text>\r\n          <Text>Duration: <SubText>{concentration ? `Concentration, up to ${duration}` : duration}</SubText></Text>\r\n          <Description>Description: <SubText>{description}</SubText></Description>\r\n          <Text>Higher Levels:<SubText>{higherlevels}</SubText></Text>\r\n        </InfoContainer>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SpellInfo;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport ListSection from '../components/ListSection';\r\nimport SpellSlots from '../components/SpellSlots';\r\nimport Search from '../components/Search';\r\nimport Spell from '../components/Spell';\r\nimport Text from '../components/Text';\r\n\r\nimport AddSpellModal from '../modals/AddSpell';\r\nimport SpellInfoModal from '../modals/SpellInfo';\r\n\r\nimport { merge } from '../helpers';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 70px 15px;\r\n  overflow-y: auto;\r\n  background-color: ${props => props.theme.light};\r\n`\r\n\r\nconst ListContainer = styled.div`\r\n  margin-top: 10px;\r\n`\r\n\r\nconst AddSpell = styled(Text)`\r\n  color: ${props => props.theme.text};\r\n  background-color: ${props => props.theme.green};\r\n  position: fixed;\r\n  bottom: 70px;\r\n  right: 20px;\r\n  font-size: 2em;\r\n  padding: 7px 19px;\r\n  border-radius: 50%;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .1);\r\n`\r\n\r\nconst listFilter = (level) => (spell) => spell.level === level\r\n\r\nclass SpellsTab extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.updateSpellslots = this.updateSpellslots.bind(this);\r\n  }\r\n\r\n  updateSpellslots(level, slots) {\r\n    const { char: { _id, spellSlots }, syncData } = this.props;\r\n\r\n    syncData(\r\n      _id,\r\n      {\r\n        spellSlots: merge(spellSlots, { [level]: slots })\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      char: { spells, spellSlots, _id },\r\n      syncData, openModal, closeModal\r\n    } = this.props;\r\n\r\n    const extraProps = { onClick: (spell) => openModal({\r\n      id: 'spellinfomodal',\r\n      type: 'custom',\r\n      content: <SpellInfoModal characterID={_id} spells={spells} spellID={spell.id} syncData={syncData} requestClose={() => closeModal({ id: 'spellinfomodal' })} />\r\n    }), data: spells, Component: Spell }\r\n\r\n    return (\r\n      <Container>\r\n        <Search ph='Search Spells...' />\r\n\r\n        <ListContainer>\r\n          <ListSection title='Cantrips' filter={listFilter(0)} {...extraProps} />\r\n          <ListSection title='First Level' filter={listFilter(1)} HeaderExtra={() => <SpellSlots slots={spellSlots.one} onClick={() => { }} edit={this.updateSpellslots} level='one' />} {...extraProps} />\r\n          <ListSection title='Second Level' filter={listFilter(2)} HeaderExtra={() => <SpellSlots slots={spellSlots.two} onClick={() => { }} edit={this.updateSpellslots} level='two' />} {...extraProps} />\r\n          <ListSection title='Third Level' filter={listFilter(3)} HeaderExtra={() => <SpellSlots slots={spellSlots.three} onClick={() => { }} edit={this.updateSpellslots} level='three' />} {...extraProps} />\r\n          <ListSection title='Fourth Level' filter={listFilter(4)} HeaderExtra={() => <SpellSlots slots={spellSlots.four} onClick={() => { }} edit={this.updateSpellslots} level='four' />} {...extraProps} />\r\n          <ListSection title='Fifth Level' filter={listFilter(5)} HeaderExtra={() => <SpellSlots slots={spellSlots.five} onClick={() => { }} edit={this.updateSpellslots} level='five' />} {...extraProps} />\r\n          <ListSection title='Sixth Level' filter={listFilter(6)} HeaderExtra={() => <SpellSlots slots={spellSlots.six} onClick={() => { }} edit={this.updateSpellslots} level='six' />} {...extraProps} />\r\n          <ListSection title='Seventh Level' filter={listFilter(7)} HeaderExtra={() => <SpellSlots slots={spellSlots.seven} onClick={() => { }} edit={this.updateSpellslots} level='seven' />} {...extraProps} />\r\n          <ListSection title='Eigth Level' filter={listFilter(8)} HeaderExtra={() => <SpellSlots slots={spellSlots.eight} onClick={() => { }} edit={this.updateSpellslots} level='eight' />} {...extraProps} />\r\n          <ListSection title='Nineth Level' filter={listFilter(9)} HeaderExtra={() => <SpellSlots slots={spellSlots.nine} onClick={() => { }} edit={this.updateSpellslots} level='nine' />} {...extraProps} />\r\n        </ListContainer>\r\n\r\n        <AddSpell onClick={() => openModal({\r\n          id: 'spelladdmodal',\r\n          type: 'custom',\r\n          content: <AddSpellModal spells={spells} characterID={_id} requestClose={() => closeModal({ id: 'spelladdmodal' })} syncData={syncData} />\r\n        })}>&#43;</AddSpell>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SpellsTab;","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport Text from './Text';\r\n\r\nimport { itemTypes } from '../data/constants';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  width: calc(100% - 12px);\r\n  padding: 5px;\r\n\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  flex-direction: row;\r\n\r\n  ${props => (Math.abs(props.index % 2) === 1) && css`\r\n    background-color: rgba(0, 0, 0, .17);\r\n  `}\r\n`\r\n\r\nconst LeftSection = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-y: hidden;\r\n  overflow-wrap: break-word;\r\n  word-wrap: break-word;\r\n  hyphens: auto;\r\n`\r\n\r\nconst RightSection = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst SideText = styled(Text)`\r\n  margin-left: 6px;\r\n`\r\n\r\nconst Category = styled(Text)`\r\n  overflow: hidden;\r\n  text-overflow: ellipsis; \r\n  color: rgba(255, 255, 255, .6);\r\n`\r\n\r\nconst Item = ({ index, id, name, quantity, category, weight, value, onClick }) => {\r\n  return (\r\n    <Container onClick={onClick} key={id} index={index}>\r\n      <LeftSection>\r\n        <Text size='0.9em'>{name} {quantity > 1 ? `x${quantity}` : ''}</Text>\r\n        <Category size='0.8em'>{itemTypes[category]}</Category>\r\n      </LeftSection>\r\n\r\n      <RightSection>\r\n        <SideText>{weight} lb</SideText>\r\n        <SideText>{value}</SideText>\r\n      </RightSection>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Item;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport T from '../components/Text';\r\n\r\nconst NameToPath = {\r\n  'Platinum Pieces': 'platinum',\r\n  'Gold Pieces': 'gold',\r\n  'Etherium Pieces': 'etherium',\r\n  'Silver Pieces': 'silver',\r\n  'Copper Pieces': 'copper',\r\n}\r\n\r\nconst BackDrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, .6);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst Container = styled.div`\r\n  width: 90%;\r\n  max-height: 60%;\r\n  background-color: ${props => props.theme.light};\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\n\r\nconst Title = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.7em;\r\n  padding-bottom: 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  padding: 20px 0;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`\r\n\r\nconst Button = styled(T)`\r\n  background-color: ${props => props.cancel ? props.theme.red : props.theme.green};\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-size: 1.3em;\r\n  text-align: center;\r\n  width: 40%;\r\n`\r\n\r\nconst Input = styled.input`\r\n  margin: 0 15px;\r\n  color: rgba(20, 20, 20, .85);\r\n  border: none;\r\n  background: ${props => props.theme.dark};\r\n  border: 2px solid ${props => props.theme.middleblack};\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.4em;\r\n  width: 50%;\r\n  text-align: center;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nclass CurrencyInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: props.current\r\n    }\r\n\r\n    this.handleCurrency = this.handleCurrency.bind(this);\r\n    this.confirmChange = this.confirmChange.bind(this);\r\n  }\r\n\r\n  handleCurrency(event) {\r\n    this.setState({ value: event.target.value });\r\n  }\r\n\r\n  confirmChange() {\r\n    const { requestClose, syncData, characterID, name } = this.props;\r\n\r\n    const { value } = this.state;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        [`pieces.${NameToPath[name]}`]: value\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { name, requestClose } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <BackDrop onClick={requestClose}>\r\n        <Container onClick={(e) => e.stopPropagation()}>\r\n\r\n          <Title>Edit {name}</Title>\r\n\r\n          <Input type='number' defaultValue={value} onChange={this.handleCurrency} />\r\n\r\n          <Row>\r\n            <Button onClick={requestClose} cancel>Cancel</Button>\r\n            <Button onClick={this.confirmChange}>Confirm</Button>\r\n          </Row>\r\n\r\n        </Container>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CurrencyInfo;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from '../../components/Text';\r\nimport Select from '../../components/Select';\r\n\r\nimport { rarityOptions, typeOptions, boolOptions, statOptions } from '../../data/constants';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 0 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst Input = styled.input`\r\n  background-color: transparent;\r\n  margin: 0;\r\n  padding: 0;\r\n  outline: none;\r\n  border: none;\r\n  color: ${props => props.theme.text};\r\n  font-size: 1em;\r\n  font-weight: 200;\r\n  font-family: 'OpenSans';\r\n\r\n  &::placeholder {\r\n    color: #8e9297;\r\n  }\r\n`\r\n\r\nconst TextArea = styled.textarea`\r\n  color: ${props => props.theme.text};\r\n  width: 100%;\r\n  min-height: 50px;\r\n  height: auto;\r\n  max-height: 150px;\r\n  font-size: 1em;\r\n  font-weight: 200;\r\n\r\n  margin: 0;\r\n\r\n  border-style: none;\r\n  outline: none;\r\n  resize: none;\r\n\r\n  background-color: transparent;\r\n  &::placeholder {\r\n    color: #8e9297;\r\n  }\r\n`\r\n\r\nconst PropertyContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 5px 0;\r\n  width: ${props => props.full ? '100%' : '50%'};\r\n`\r\n\r\nconst Property = (props) => {\r\n  const { title, value, placeholder, type, options, multi = false, full = false, callback } = props;\r\n\r\n  return (\r\n    <PropertyContainer full={full}>\r\n      <Text color='gold'>{title}</Text>\r\n\r\n      {\r\n        (type && type === 'select') ?\r\n          <Select value={value} options={options} multi={multi} onChange={callback} /> :\r\n          <Input type={type ? type : 'text'} placeholder={placeholder} value={value} onChange={({ target: { value } }) => callback(value)} />\r\n      }\r\n    </PropertyContainer>\r\n  )\r\n}\r\n\r\nconst EditItem = (props) => {\r\n  const { editItem,\r\n    itemData: {\r\n      name, magic, rarity, desc, category, quantity,\r\n      range, longRange, attackStat, attackBonus, damageStat,\r\n      damage1, damage2, additionalDamage, value, weight\r\n    }\r\n  } = props;\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Property title='Name' placeholder='Greatsword' value={name} callback={(value) => editItem('name', value)} />\r\n        <Property title='Rarity' value={rarity} options={rarityOptions} type='select' callback={(value) => editItem('rarity', value)} />\r\n      </Row>\r\n      <Row>\r\n        <Property title='Category' value={category} options={typeOptions} type='select' callback={(value) => editItem('category', value)} />\r\n        <Property title='Magic Item' value={magic} options={boolOptions} type='select' callback={(value) => editItem('magic', value)} />\r\n      </Row>\r\n\r\n      {\r\n        ['M', 'R'].includes(category) ? (\r\n          <>\r\n            <Row>\r\n              <Property title='Range' type='number' value={range} placeholder='15' callback={(value) => editItem('range', value)} />\r\n              <Property title='Long Range' type='number' value={longRange} placeholder='30' callback={(value) => editItem('longRange', value)} />\r\n            </Row>\r\n            <Row>\r\n              <Property title='Attack Stat' value={attackStat} options={statOptions} callback={(value) => editItem('attackStat', value)} type='select' />\r\n              <Property title='Attack Bonus' value={attackBonus} placeholder='0' callback={(value) => editItem('attackBonus', value)} />\r\n            </Row>\r\n            <Row>\r\n              <Property title='Damage Stat' value={damageStat} options={statOptions} callback={(value) => editItem('damageStat', value)} type='select' />\r\n              <Property title='Additional Damage' value={additionalDamage} placeholder='2d6' callback={(value) => editItem('additionalDamage', value)} />\r\n            </Row>\r\n            <Row>\r\n              <Property title='Damage (one-handed)' value={damage1} placeholder='1d8' callback={(value) => editItem('damage1', value)} />\r\n              <Property title='Damage (two-handed)' value={damage2} placeholder='1d10' callback={(value) => editItem('damage2', value)} />\r\n            </Row>\r\n          </>\r\n        ) : ''\r\n      }\r\n\r\n      <Row>\r\n        <Property title='Value' value={value} placeholder='50 gp' callback={(value) => editItem('value', Number(value))} />\r\n        <Property title='Weight (in lb)' value={weight} type='number' callback={(value) => editItem('weight', Number(value))} />\r\n      </Row>\r\n\r\n      <Property title='quantity' value={quantity} type='number' callback={(value) => editItem('quantity', Number(value))} />\r\n\r\n      <Text color='gold'>Description</Text>\r\n      <TextArea placeholder='Item description goes here' value={desc} onChange={(event) => editItem('desc', event.target.value)} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default EditItem;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Button from '../../components/Button';\r\n\r\nimport SearchInput from '../../components/Search';\r\nimport Item from '../../components/Item';\r\n\r\nimport { typeFilters } from '../../data/constants';\r\n\r\nimport srdEquipment from '../../data/equipment.json';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: calc(100% - 60px);\r\n  width: 100%;\r\n  padding: 15px;\r\n`\r\n\r\nconst List = styled.div`\r\n  overflow-y: auto;\r\n  margin: 10px 0;\r\n`\r\n\r\nconst CustomButton = styled(Button)`\r\n\r\n`\r\n\r\nconst Search = ({ onSearch, search, filter, changeFilter, openItem, limit }) => {\r\n  const filteredSrd = srdEquipment.filter(item => item.name.toLowerCase().includes(search.toLowerCase()))\r\n\r\n  return (\r\n    <Container>\r\n      <SearchInput onSearch={onSearch} value={search} ph='Search Equipment...' filters={typeFilters} currentFilter={filter} onFilter={changeFilter}\r\n        bgStyle={{ backgroundColor: '#72767D', boxShadow: '0 2px 5px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .1)' }}\r\n      />\r\n\r\n      <List>\r\n        {\r\n          filteredSrd.map((item, i) => {\r\n            return (\r\n              <Item {...item} index={i} key={item.id} onClick={() => openItem(item)} />\r\n            )\r\n          }).slice(0, 25)\r\n        }\r\n      </List>\r\n      <CustomButton onClick={() => openItem()}>Custom</CustomButton>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Search;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { FaArrowLeft, FaCheck } from 'react-icons/fa'\r\n\r\nimport EditItem from './EditItem';\r\nimport Header from '../../components/Header';\r\nimport Search from './Search';\r\n\r\nimport { cloneDeep, merge, mergeUpdates } from '../../helpers';\r\n\r\nimport { itemDefaults } from '../../data/constants';\r\n\r\nimport nanoid from 'nanoid/generate';\r\nimport lowercased from 'nanoid-dictionary/lowercase';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n`\r\n\r\nconst BackButton = styled(FaArrowLeft)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nconst ConfirmButton = styled(FaCheck)`\r\n  color: ${props => props.theme.green};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nclass AddItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      filter: 'ALL',\r\n      search: '',\r\n      limit: 25,\r\n      creatingItem: false,\r\n      item: cloneDeep(itemDefaults)\r\n    }\r\n\r\n    this.changeFilter = this.changeFilter.bind(this)\r\n    this.onSearch = this.onSearch.bind(this)\r\n    this.openItem = this.openItem.bind(this)\r\n    this.showItems = this.showItems.bind(this)\r\n    this.editItem = this.editItem.bind(this)\r\n    this.onConfirm = this.onConfirm.bind(this)\r\n  }\r\n\r\n  changeFilter(filter) {\r\n    this.setState({ filter })\r\n  }\r\n\r\n  onSearch(event) {\r\n    this.setState({ search: event.target.value })\r\n  }\r\n\r\n  // change the modal to show a item for approval / customization\r\n  // before adding it to the item list.\r\n  openItem(item) {\r\n    if (item) return this.setState({ creatingItem: true, item: merge({}, itemDefaults, item) })\r\n\r\n    this.setState({\r\n      creatingItem: true,\r\n      item: cloneDeep(itemDefaults)\r\n    })\r\n  }\r\n\r\n  showItems() {\r\n    this.setState({\r\n      creatingItem: false\r\n    })\r\n  }\r\n\r\n  editItem(path, data) {\r\n    this.setState({ item: merge({}, this.state.item, { [path]: data }) })\r\n  }\r\n\r\n  onConfirm() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const id = nanoid(lowercased, 24)\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        items: mergeUpdates(this.props.items, [{ ...this.state.item, id, new: true }])\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { search, filter, limit, creatingItem } = this.state;\r\n    const { requestClose } = this.props;\r\n\r\n    return (\r\n      <Container onMouseDown={(e) => e.stopPropagation()}>\r\n        <Header title={creatingItem ? 'Edit Item' : 'Add Item'}\r\n          LeftComponent={BackButton} leftClick={creatingItem ? this.showItems : requestClose}\r\n          RightComponent={creatingItem ? ConfirmButton : undefined}\r\n          rightClick={this.onConfirm}\r\n          bgStyles={{ position: 'static', zIndex: 60 }}\r\n        />\r\n        {\r\n          (creatingItem === false) ? <Search openItem={this.openItem} onSearch={this.onSearch} search={search} limit={limit} filter={filter} changeFilter={this.changeFilter} /> :\r\n            <EditItem itemData={this.state.item} editItem={this.editItem} />\r\n        }\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddItem;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Header from '../components/Header';\r\nimport T from '../components/Text';\r\n\r\nimport EditItem from './AddItem/EditItem';\r\n\r\nimport { ReactComponent as Delete } from '../assets/delete.svg';\r\nimport { ReactComponent as Edit } from '../assets/edit.svg';\r\n\r\nimport { FaArrowLeft, FaCheck } from 'react-icons/fa'\r\n\r\nimport { cloneDeep, merge, mergeUpdates } from '../helpers';\r\nimport { itemTypes, propertyTypes } from '../data/constants';\r\n\r\nconst BackDrop = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n`\r\n\r\nconst Options = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst InfoContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0 15px;\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.2em;\r\n  margin: 5px 0;\r\n`\r\n\r\nconst SubText = styled.span`\r\n  color: rgba(255, 255, 255, .6);\r\n  font-size: 1em;\r\n`\r\n\r\nconst Description = styled(Text)`\r\n  margin-top: 10px;\r\n`\r\n\r\nconst BackButton = styled(FaArrowLeft)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nconst ConfirmButton = styled(FaCheck)`\r\n  color: ${props => props.theme.green};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nclass ItemInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { items, itemID } = props;\r\n\r\n    this.state = {\r\n      isEditing: false,\r\n      item: cloneDeep(items.find(obj => obj.id === itemID))\r\n    }\r\n\r\n    this.toggleEditing = this.toggleEditing.bind(this)\r\n    this.editItem = this.editItem.bind(this)\r\n    this.confirmEdit = this.confirmEdit.bind(this)\r\n    this.deleteItem = this.deleteItem.bind(this)\r\n  }\r\n\r\n  toggleEditing() {\r\n    this.setState({\r\n      isEditing: !this.state.isEditing\r\n    })\r\n  }\r\n\r\n  editItem(path, data) {\r\n    this.setState({ item: merge({}, this.state.item, { [path]: data }) })\r\n  }\r\n\r\n  confirmEdit() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        items: mergeUpdates(this.props.items, [{ ...this.state.item }])\r\n      }\r\n    )\r\n  }\r\n\r\n  deleteItem() {\r\n    const { itemID, requestClose, syncData, characterID } = this.props;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        items: mergeUpdates(this.props.items, [{ remove: true, id: itemID }])\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { isEditing,\r\n      item: {\r\n        name, desc, category, range, longRange,\r\n        damage1, damage2, value, weight, properties = []\r\n      }\r\n    } = this.state;\r\n\r\n    if (isEditing) {\r\n      return (\r\n        <BackDrop onMouseDown={(e) => e.stopPropagation()}>\r\n          <Header title='editing'\r\n            LeftComponent={BackButton} leftClick={this.toggleEditing}\r\n            RightComponent={ConfirmButton}\r\n            rightClick={this.confirmEdit}\r\n            bgStyles={{ position: 'static', zIndex: 60 }}\r\n          />\r\n          <EditItem itemData={this.state.item} editItem={this.editItem} />\r\n        </BackDrop>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <BackDrop onMouseDown={(e) => e.stopPropagation()}>\r\n        <Header title={name}\r\n          LeftComponent={BackButton} leftClick={requestClose}\r\n          RightComponent={() => (\r\n            <Options>\r\n              <Delete style={{ width: '2em', height: '2em' }} onClick={this.deleteItem} />\r\n              <Edit style={{ width: '2em', height: '2em' }} onClick={this.toggleEditing} />\r\n            </Options>\r\n          )}\r\n          bgStyles={{ position: 'static', zIndex: 60 }}\r\n        />\r\n\r\n        <InfoContainer>\r\n          <Text><SubText>{itemTypes[category]}</SubText></Text>\r\n\r\n          {\r\n            ['M', 'R'].includes(category) ?\r\n              <>\r\n                <Text>Range: <SubText>{range}/{longRange}</SubText></Text>\r\n                <Text>Damage {damage2 ? '(one-handed)' : ''}: <SubText>{damage1}</SubText></Text>\r\n                {damage2 && <Text>Damage (two-handed): <SubText>{damage2}</SubText></Text>}\r\n                <Text>Properties: <SubText>{properties.map(prop => propertyTypes[prop]).join(', ')}</SubText></Text>\r\n              </> : null\r\n          }\r\n          <Text>Value: <SubText>{value}</SubText></Text>\r\n          <Text>Weight: <SubText>{weight} lbs</SubText></Text>\r\n\r\n          <Description><SubText>{desc}</SubText></Description>\r\n        </InfoContainer>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ItemInfo;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Search from '../components/Search';\r\nimport Item from '../components/Item';\r\nimport Text from '../components/Text';\r\n\r\nimport ListSection from '../components/ListSection';\r\n\r\nimport CurrencyInfoModal from '../modals/CurrencyInfo';\r\nimport AddItemModal from '../modals/AddItem';\r\nimport ItemInfoModal from '../modals/ItemInfo';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 70px 15px;\r\n  overflow-y: auto;\r\n  background-color: ${props => props.theme.light};\r\n`\r\n\r\nconst ListContainer = styled.div`\r\n  margin-top: 10px;\r\n`\r\n\r\nconst AddEquipment = styled(Text)`\r\n  color: ${props => props.theme.text};\r\n  background-color: ${props => props.theme.green};\r\n  position: fixed;\r\n  bottom: 70px;\r\n  right: 20px;\r\n  font-size: 2em;\r\n  padding: 7px 19px;\r\n  border-radius: 50%;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .1);\r\n`\r\n\r\nclass EquipmentTab extends Component {\r\n\r\n  render() {\r\n    const {\r\n      char: { items, pieces, _id },\r\n      syncData, openModal, closeModal\r\n    } = this.props;\r\n\r\n    const { platinum, gold, etherium, silver, copper } = pieces;\r\n\r\n    return (\r\n      <Container>\r\n        <Search ph='Search Equipment...' />\r\n\r\n        <ListContainer>\r\n          <ListSection title='Coin Purse' data={[\r\n            { id: 'platpieces', name: 'Platinum Pieces', category: 'WE', weight: '0.02', quantity: platinum },\r\n            { id: 'goldpieces', name: 'Gold Pieces', category: 'WE', weight: '0.02', quantity: gold },\r\n            { id: 'etheriumpieces', name: 'Etherium Pieces', category: 'WE', weight: '0.02', quantity: etherium },\r\n            { id: 'silverpieces', name: 'Silver Pieces', category: 'WE', weight: '0.02', quantity: silver },\r\n            { id: 'copperpieces', name: 'Copper Pieces', category: 'WE', weight: '0.02', quantity: copper }\r\n          ]} Component={Item} onClick={(currency) => openModal({\r\n            id: 'currencymodal',\r\n            type: 'custom',\r\n            content: <CurrencyInfoModal current={currency.quantity} name={currency.name} characterID={_id} syncData={syncData} requestClose={() => closeModal({ id: 'currencymodal' })} />\r\n          })} />\r\n          {\r\n            items.map((item, i) => {\r\n              return (\r\n                <Item {...item} index={i} key={item.id} onClick={() => openModal({\r\n                  id: 'iteminfomodal',\r\n                  type: 'custom',\r\n                  content: <ItemInfoModal characterID={_id} items={items} itemID={item.id} syncData={syncData} requestClose={() => closeModal({ id: 'iteminfomodal' })} />\r\n                })} />\r\n              )\r\n            })\r\n          }\r\n        </ListContainer>\r\n\r\n        <AddEquipment onClick={() => openModal({\r\n          id: 'itemaddmodal',\r\n          type: 'custom',\r\n          content: <AddItemModal items={items} characterID={_id} requestClose={() => closeModal({ id: 'itemaddmodal' })} syncData={syncData} />\r\n        })}>&#43;</AddEquipment>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EquipmentTab;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from '../components/Text';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 70px 15px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  width: 100%;\r\n`\r\n\r\nconst Content = styled(Text)`\r\n  font-size: 2em;\r\n`\r\n\r\nconst Link = styled.a`\r\n  color: rgba(255, 255, 255, .6);\r\n  text-decoration: underline;\r\n`\r\n\r\nconst CombatTab = () => {\r\n  return (\r\n    <Container>\r\n      <Content>\r\n        This Tab is under construction please join the <Link href='https://discord.gg/a5qSfxv'>discord</Link> or open a issue on <Link href='https://github.com/KingCosmic/BardsBallad'>github</Link> to push it higher on the priority list.\r\n      </Content>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default CombatTab;","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport T from './Text';\r\nimport Clamp from './Clamp';\r\n\r\nimport { renderReq } from '../helpers';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  padding: 5px;\r\n  cursor: pointer;\r\n  flex-direction: column;\r\n\r\n  ${props => (Math.abs(props.index % 2) === 1) && css`\r\n    background-color: rgba(0, 0, 0, .17);\r\n  `}\r\n`\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`\r\n\r\nconst Info = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Title = styled(T)`\r\n  color: ${props => props.theme.gold};\r\n  font-size: 1.1em;\r\n`\r\n\r\nconst Description = styled(T)`\r\n  font-size: 1em;\r\n  margin-top: 5px;\r\n  color: rgba(255, 255, 255, .6);\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 0.9em;\r\n`\r\n\r\nconst Feature = (props) => {\r\n  const { name, uses, prerequisite, desc, source, index, onClick, showRequirements = false } = props;\r\n\r\n  return (\r\n    <Container index={index} onClick={onClick}>\r\n      <Header width='100%' direction='row' justifyContent='space-between' alignItems='center'>\r\n        <Info>\r\n          <Title>{name} {uses > 0 ? `(x${uses})` : ''}</Title>\r\n          <Text>{showRequirements ? renderReq(prerequisite) : 'Class: Wild Magic'}</Text>\r\n        </Info>\r\n        <Title>{source || 'CUSTOM'}</Title>\r\n      </Header>\r\n\r\n      <Clamp text={desc} component={Description} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Feature;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Text from '../../components/Text';\r\nimport Select from '../../components/Select';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 0 15px;\r\n`\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst Input = styled.input`\r\n  background-color: transparent;\r\n  margin: 0;\r\n  padding: 0;\r\n  outline: none;\r\n  border: none;\r\n  color: ${props => props.theme.text};\r\n  font-size: 1em;\r\n  font-weight: 200;\r\n  font-family: 'OpenSans';\r\n\r\n  &::placeholder {\r\n    color: #8e9297;\r\n  }\r\n`\r\n\r\nconst TextArea = styled.textarea`\r\n  color: ${props => props.theme.text};\r\n  width: 100%;\r\n  min-height: 50px;\r\n  height: auto;\r\n  max-height: 150px;\r\n  font-size: 1em;\r\n  font-weight: 200;\r\n\r\n  margin: 0;\r\n\r\n  border-style: none;\r\n  outline: none;\r\n  resize: none;\r\n\r\n  background-color: transparent;\r\n  &::placeholder {\r\n    color: #8e9297;\r\n  }\r\n`\r\n\r\nconst PropertyContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 5px 0;\r\n  width: ${props => props.full ? '100%' : '50%'};\r\n`\r\n\r\nconst Property = (props) => {\r\n  const { title, value, placeholder, type, options, multi = false, full = false, callback } = props;\r\n\r\n  return (\r\n    <PropertyContainer full={full}>\r\n      <Text color='gold'>{title}</Text>\r\n\r\n      {\r\n        (type && type === 'select') ?\r\n          <Select value={value} options={options} multi={multi} onChange={callback} /> :\r\n          <Input type={type ? type : 'text'} placeholder={placeholder} value={value} onChange={({ target: { value } }) => callback(value)} />\r\n      }\r\n    </PropertyContainer>\r\n  )\r\n}\r\n\r\nconst EditItem = (props) => {\r\n  const { editFeat,\r\n    featData: {\r\n      name, uses, desc\r\n    }\r\n  } = props;\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Property title='Name' placeholder='Greatsword' value={name} callback={(value) => editFeat('name', value)} />\r\n        <Property title='uses' value={uses} type='number' callback={(value) => editFeat('uses', Number(value))} />\r\n      </Row>\r\n\r\n      <Text color='gold'>Description</Text>\r\n      <TextArea placeholder='Item description goes here' value={desc} onChange={(event) => editFeat('desc', event.target.value)} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default EditItem;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Button from '../../components/Button';\r\n\r\nimport SearchInput from '../../components/Search';\r\nimport Feat from '../../components/Feature';\r\n\r\nimport { typeFilters } from '../../data/constants';\r\n\r\nimport srdFeatures from '../../data/features.json';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: calc(100% - 60px);\r\n  width: 100%;\r\n  padding: 15px;\r\n`\r\n\r\nconst List = styled.div`\r\n  overflow-y: auto;\r\n  margin: 10px 0;\r\n`\r\n\r\nconst CustomButton = styled(Button)`\r\n\r\n`\r\n\r\nconst Search = ({ onSearch, search, filter, changeFilter, openFeat, limit }) => {\r\n  const filteredSrd = srdFeatures.filter(feat => feat.name.toLowerCase().includes(search.toLowerCase()))\r\n\r\n  return (\r\n    <Container>\r\n      <SearchInput onSearch={onSearch} value={search} ph='Search Features...' filters={typeFilters} currentFilter={filter} onFilter={changeFilter}\r\n        bgStyle={{ backgroundColor: '#72767D', boxShadow: '0 2px 5px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .1)' }}\r\n      />\r\n\r\n      <List>\r\n        {\r\n          filteredSrd.map((feat, i) => {\r\n            return (\r\n              <Feat {...feat} index={i} key={feat.id} onClick={() => openFeat(feat)} />\r\n            )\r\n          })\r\n        }\r\n      </List>\r\n      <CustomButton onClick={() => openFeat()}>Custom</CustomButton>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Search;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { FaArrowLeft, FaCheck } from 'react-icons/fa'\r\n\r\nimport EditFeature from './EditFeature';\r\nimport Header from '../../components/Header';\r\nimport Search from './Search';\r\n\r\nimport { cloneDeep, merge, mergeUpdates } from '../../helpers';\r\n\r\nimport { featDefaults } from '../../data/constants';\r\n\r\nimport nanoid from 'nanoid/generate';\r\nimport lowercased from 'nanoid-dictionary/lowercase';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n`\r\n\r\nconst BackButton = styled(FaArrowLeft)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nconst ConfirmButton = styled(FaCheck)`\r\n  color: ${props => props.theme.green};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nclass AddFeature extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      filter: 'ALL',\r\n      search: '',\r\n      limit: 25,\r\n      creatingFeat: false,\r\n      feat: cloneDeep(featDefaults)\r\n    }\r\n\r\n    this.changeFilter = this.changeFilter.bind(this)\r\n    this.onSearch = this.onSearch.bind(this)\r\n    this.openFeat = this.openFeat.bind(this)\r\n    this.showFeats = this.showFeats.bind(this)\r\n    this.editFeat = this.editFeat.bind(this)\r\n    this.onConfirm = this.onConfirm.bind(this)\r\n  }\r\n\r\n  changeFilter(filter) {\r\n    this.setState({ filter })\r\n  }\r\n\r\n  onSearch(event) {\r\n    this.setState({ search: event.target.value })\r\n  }\r\n\r\n  // change the modal to show a item for approval / customization\r\n  // before adding it to the item list.\r\n  openFeat(feat) {\r\n    if (feat) return this.setState({ creatingFeat: true, feat: merge({}, featDefaults, feat) })\r\n\r\n    this.setState({\r\n      creatingFeat: true,\r\n      feat: cloneDeep(featDefaults)\r\n    })\r\n  }\r\n\r\n  showFeats() {\r\n    this.setState({\r\n      creatingFeat: false\r\n    })\r\n  }\r\n\r\n  editFeat(path, data) {\r\n    this.setState({ feat: merge({}, this.state.feat, { [path]: data }) })\r\n  }\r\n\r\n  onConfirm() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    const id = nanoid(lowercased, 24)\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        feats: mergeUpdates(this.props.feats, [{ ...this.state.feat, id, new: true }])\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { search, filter, limit, creatingFeat } = this.state;\r\n    const { requestClose } = this.props;\r\n\r\n    return (\r\n      <Container onMouseDown={(e) => e.stopPropagation()}>\r\n        <Header title={creatingFeat ? 'Edit Feat' : 'Add Feat'}\r\n          LeftComponent={BackButton} leftClick={creatingFeat ? this.showFeats : requestClose}\r\n          RightComponent={creatingFeat ? ConfirmButton : undefined}\r\n          rightClick={this.onConfirm}\r\n          bgStyles={{ position: 'static', zIndex: 60 }}\r\n        />\r\n        {\r\n          (creatingFeat === false) ? <Search openFeat={this.openFeat} onSearch={this.onSearch} search={search} limit={limit} filter={filter} changeFilter={this.changeFilter} /> :\r\n            <EditFeature featData={this.state.feat} editFeat={this.editFeat} />\r\n        }\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddFeature;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Header from '../components/Header';\r\nimport T from '../components/Text';\r\n\r\nimport EditFeature from './AddFeature/EditFeature';\r\n\r\nimport { ReactComponent as Delete } from '../assets/delete.svg';\r\nimport { ReactComponent as Edit } from '../assets/edit.svg';\r\n\r\nimport { FaArrowLeft, FaCheck } from 'react-icons/fa'\r\n\r\nimport { cloneDeep, merge, mergeUpdates } from '../helpers';\r\n\r\nconst BackDrop = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n`\r\n\r\nconst Options = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst InfoContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0 15px;\r\n`\r\n\r\nconst Text = styled(T)`\r\n  font-size: 1.2em;\r\n  margin: 5px 0;\r\n`\r\n\r\nconst SubText = styled.span`\r\n  color: rgba(255, 255, 255, .6);\r\n  font-size: 1em;\r\n`\r\n\r\nconst Description = styled(Text)`\r\n  margin-top: 10px;\r\n`\r\n\r\nconst BackButton = styled(FaArrowLeft)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nconst ConfirmButton = styled(FaCheck)`\r\n  color: ${props => props.theme.green};\r\n  font-size: 30px;\r\n  height: 60px;\r\n`\r\n\r\nclass FeatureInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { feats, featID } = props;\r\n\r\n    this.state = {\r\n      isEditing: false,\r\n      feat: cloneDeep(feats.find(obj => obj.id === featID))\r\n    }\r\n\r\n    this.toggleEditing = this.toggleEditing.bind(this)\r\n    this.editFeat = this.editFeat.bind(this)\r\n    this.confirmEdit = this.confirmEdit.bind(this)\r\n    this.deleteFeat = this.deleteFeat.bind(this)\r\n  }\r\n\r\n  toggleEditing() {\r\n    this.setState({\r\n      isEditing: !this.state.isEditing\r\n    })\r\n  }\r\n\r\n  editFeat(path, data) {\r\n    this.setState({ feat: merge({}, this.state.feat, { [path]: data }) })\r\n  }\r\n\r\n  confirmEdit() {\r\n    const { requestClose, syncData, characterID } = this.props;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        feats: mergeUpdates(this.props.feats, [{ ...this.state.feat }])\r\n      }\r\n    )\r\n  }\r\n\r\n  deleteFeat() {\r\n    const { featID, requestClose, syncData, characterID } = this.props;\r\n\r\n    requestClose()\r\n    syncData(\r\n      characterID,\r\n      {\r\n        feats: mergeUpdates(this.props.feats, [{ remove: true, id: featID }])\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { requestClose } = this.props;\r\n    const { isEditing,\r\n      feat: {\r\n        name, uses, desc\r\n      }\r\n    } = this.state;\r\n\r\n    if (isEditing) {\r\n      return (\r\n        <BackDrop onMouseDown={(e) => e.stopPropagation()}>\r\n          <Header title='editing'\r\n            LeftComponent={BackButton} leftClick={this.toggleEditing}\r\n            RightComponent={ConfirmButton}\r\n            rightClick={this.confirmEdit}\r\n            bgStyles={{ position: 'static', zIndex: 60 }}\r\n          />\r\n          <EditFeature featData={this.state.feat} editFeat={this.editFeat} />\r\n        </BackDrop>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <BackDrop onMouseDown={(e) => e.stopPropagation()}>\r\n        <Header title={name}\r\n          LeftComponent={BackButton} leftClick={requestClose}\r\n          RightComponent={() => (\r\n            <Options>\r\n              <Delete style={{ width: '2em', height: '2em' }} onClick={this.deleteFeat} />\r\n              <Edit style={{ width: '2em', height: '2em' }} onClick={this.toggleEditing} />\r\n            </Options>\r\n          )}\r\n          bgStyles={{ position: 'static', zIndex: 60 }}\r\n        />\r\n\r\n        <InfoContainer>\r\n          <Text>Uses: <SubText>{uses}</SubText></Text>\r\n\r\n          <Description><SubText>{desc}</SubText></Description>\r\n        </InfoContainer>\r\n      </BackDrop>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FeatureInfo;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Search from '../components/Search';\r\nimport Feature from '../components/Feature';\r\nimport Text from '../components/Text';\r\n\r\nimport AddFeatureModal from '../modals/AddFeature';\r\nimport FeatureInfoModal from '../modals/FeatureInfo';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 70px 15px;\r\n  overflow-y: auto;\r\n  background-color: ${props => props.theme.light};\r\n`\r\n\r\nconst ListContainer = styled.div`\r\n  margin-top: 10px;\r\n`\r\n\r\nconst AddFeature = styled(Text)`\r\n  color: ${props => props.theme.text};\r\n  background-color: ${props => props.theme.green};\r\n  position: fixed;\r\n  bottom: 70px;\r\n  right: 20px;\r\n  font-size: 2em;\r\n  padding: 7px 19px;\r\n  border-radius: 50%;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .1);\r\n`\r\n\r\nclass FeaturesAndTraits extends Component {\r\n\r\n  render() {\r\n    const {\r\n      char: { feats, _id },\r\n      syncData, openModal, closeModal\r\n    } = this.props;\r\n\r\n    return (\r\n      <Container>\r\n        <Search ph='Search Features...' />\r\n\r\n        <ListContainer>\r\n          {\r\n            feats.map((feat, i) => {\r\n              return (\r\n                <Feature {...feat} index={i} key={feat.id} onClick={() => openModal({\r\n                  id: 'featureinfomodal',\r\n                  type: 'custom',\r\n                  content: <FeatureInfoModal characterID={_id} feats={feats} featID={feat.id} syncData={syncData} requestClose={() => closeModal({ id: 'featureinfomodal' })} />\r\n                })} />\r\n              )\r\n            })\r\n          }\r\n        </ListContainer>\r\n\r\n        <AddFeature onClick={() => openModal({\r\n          id: 'featureaddmodal',\r\n          type: 'custom',\r\n          content: <AddFeatureModal feats={feats} characterID={_id} requestClose={() => closeModal({ id: 'featureaddmodal' })} syncData={syncData} />\r\n        })}>&#43;</AddFeature>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FeaturesAndTraits;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { FaInfo, FaRunning } from 'react-icons/fa';\r\nimport { GiSpellBook, GiBackpack, GiSwordBrandish, GiRearAura } from 'react-icons/gi';\r\n\r\n// just here to give extra color tbh\r\nconst OverlayContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100vw;\r\n  height: 60px;\r\n  background-color: rgba(32, 34, 37, .3);\r\n`\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  width: 100vw;\r\n  border-top: 1px solid ${props => props.theme.middleblack};\r\n  background-color: ${props => props.theme.light};\r\n  height: 60px;\r\n\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n`\r\n\r\nconst Icon = styled.div`\r\n  color: ${props => props.selected ? props.theme.gold : props.theme.text};\r\n  font-size: 2em;\r\n  text-align: center;\r\n  flex-grow: 1;\r\n`\r\n\r\nconst CharFooter = ({ selectedTab, changeTab }) => {\r\n  return (\r\n    <Container>\r\n      <OverlayContainer>\r\n        <Icon selected={selectedTab === 'info'} onClick={() => changeTab('info')}><FaInfo /></Icon>\r\n        <Icon selected={selectedTab === 'skills'} onClick={() => changeTab('skills')}><FaRunning /></Icon>\r\n        <Icon selected={selectedTab === 'spells'} onClick={() => changeTab('spells')}><GiSpellBook /></Icon>\r\n        <Icon selected={selectedTab === 'equipment'} onClick={() => changeTab('equipment')}><GiBackpack /></Icon>\r\n        <Icon selected={selectedTab === 'combat'} onClick={() => changeTab('combat')}><GiSwordBrandish /></Icon>\r\n        <Icon selected={selectedTab === 'features'} onClick={() => changeTab('features')}><GiRearAura /></Icon>\r\n      </OverlayContainer>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default CharFooter","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Header from '../components/Header';\r\n\r\nimport SideInfo from '../components/SideInfo';\r\n\r\nimport { FaInfoCircle } from 'react-icons/fa';\r\n\r\nimport InfoTab from '../tabs/InfoTab';\r\nimport SkillsTab from '../tabs/SkillsTab';\r\nimport SpellsTab from '../tabs/SpellsTab';\r\nimport EquipmentTab from '../tabs/EquipmentTab';\r\nimport CombatTab from '../tabs/CombatTab';\r\nimport FeaturesAndTraits from '../tabs/FeaturesAndTraits';\r\n\r\nimport Footer from '../components/CharFooter';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { showAddItem, editItem, toggleSideNav } from '../reducers/ui';\r\nimport { openModal, closeModal } from '../reducers/modals';\r\nimport {\r\n  loadOne, changeCharacter, addSpell,\r\n  updateData, revertData, syncData\r\n} from '../reducers/characters';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n`\r\n\r\nconst TabContainer = styled.div`\r\n  width: 100%;\r\n`\r\n\r\nconst SideInfoButton = styled(FaInfoCircle)`\r\n  color: ${props => props.theme.text};\r\n  font-size: 30px;\r\n  line-height: 60px;\r\n`\r\n\r\nclass CharacterOverlay extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedTab: 'skills',\r\n      sideInfoIsOpen: false\r\n    }\r\n\r\n    this.changeTab = this.changeTab.bind(this)\r\n    this.toggleSideInfo = this.toggleSideInfo.bind(this)\r\n  }\r\n\r\n  componentWillMount() {\r\n    const id = this.props.match.params.characterID;\r\n\r\n    if (this.props.characters.length === 0) return this.props.loadOne(id);\r\n\r\n    const newChar = this.props.characters.filter(char => char._id === id);\r\n\r\n    if (newChar.length === 0) return this.props.loadOne(id);\r\n\r\n    this.props.changeCharacter(newChar[0]._id)\r\n  }\r\n\r\n  changeTab(tab) {\r\n    this.setState({\r\n      selectedTab: tab\r\n    })\r\n  }\r\n\r\n  toggleSideInfo() {\r\n    this.setState({\r\n      sideInfoIsOpen: !this.state.sideInfoIsOpen\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { selectedTab, sideInfoIsOpen } = this.state;\r\n    const {\r\n      character, update,\r\n      updateData, revertData,\r\n      toggleSideNav, syncData,\r\n      openModal, closeModal\r\n    } = this.props;\r\n\r\n    if (!character) return null\r\n\r\n    return (\r\n      <Container>\r\n        <SideInfo char={character} open={sideInfoIsOpen} requestClose={this.toggleSideInfo} syncData={syncData} openModal={openModal} closeModal={closeModal} />\r\n\r\n        <Header\r\n          leftClick={toggleSideNav} title={selectedTab}\r\n          RightComponent={() => <SideInfoButton onClick={this.toggleSideInfo} />}\r\n        />\r\n\r\n        <TabContainer>\r\n          {\r\n            (selectedTab === 'info') ? <InfoTab char={character} syncData={syncData} openModal={openModal} closeModal={closeModal} /> :\r\n\r\n            (selectedTab === 'skills') ? <SkillsTab char={character} syncData={syncData} openModal={openModal} closeModal={closeModal} /> :\r\n\r\n            (selectedTab === 'spells') ? <SpellsTab char={character} syncData={syncData} openModal={openModal} closeModal={closeModal} /> :\r\n\r\n            (selectedTab === 'equipment') ? <EquipmentTab char={character} syncData={syncData} openModal={openModal} closeModal={closeModal}  /> :\r\n\r\n            (selectedTab === 'combat') ? <CombatTab char={character} update={update} editItem={editItem}\r\n            updateData={updateData} revertData={revertData} /> :\r\n\r\n            (selectedTab === 'features') ? <FeaturesAndTraits char={character} syncData={syncData} openModal={openModal} closeModal={closeModal} /> : ''\r\n          }\r\n        </TabContainer>\r\n\r\n        <Footer selectedTab={selectedTab} changeTab={this.changeTab} />\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    characters: state.characters.characters,\r\n    editing: state.ui.editing,\r\n    character: state.characters.character,\r\n    update: state.characters.update.data,\r\n    empty: state.characters.update.empty\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, {\r\n  loadOne, changeCharacter, addSpell,\r\n  showAddItem, editItem, updateData, revertData,\r\n  toggleSideNav, syncData, openModal, closeModal\r\n})(CharacterOverlay));","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport requireAuth from '../components/requireAuth';\r\n\r\nimport Modals from '../modals/Modals';\r\nimport SlideOut from '../components/SlideOut';\r\n\r\nimport Characters from './Characters';\r\nimport Character from './Character';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 100vh;\r\n`\r\n\r\nconst ViewContainer = styled.div`\r\n  display: flex;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: ${props => props.theme.light};\r\n`\r\n\r\nclass Home extends Component {\r\n  // redirect if we're already logged in\r\n  componentWillMount() {\r\n    if (this.props.history.location.pathname === '/') this.props.history.replace('/characters')\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Modals />\r\n        <SlideOut />\r\n        <ViewContainer>\r\n          <Switch>\r\n            <Route path='/characters' component={Characters} exact />\r\n            <Route path='/characters/:characterID' component={Character} exact />\r\n          </Switch>\r\n        </ViewContainer>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default requireAuth(Home);","import React from 'react';\r\n\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\n\r\nimport Login from './views/Login';\r\nimport Signup from './views/Signup';\r\nimport Home from './views/Home';\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <Switch>\r\n        <Route path='/login' component={Login} exact />\r\n        <Route path='/signup' component={Signup} exact />\r\n        <Route path='/' component={Home} />\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default Routes;","import api from '../utility/api';\r\n\r\n/**\r\n * ACTIONS TYPES\r\n * \r\n * These here are our action types defined for later use\r\n */\r\n\r\nexport const LOG_IN = 'LOG_IN';\r\nexport const LOG_OUT = 'LOG_OUT';\r\n\r\n/**\r\n * ACTIONS\r\n * \r\n * Here we define our actions\r\n */\r\n\r\nexport const logIn = (jwt) => (dispatch) => {\r\n  dispatch({\r\n    type: LOG_IN,\r\n    payload: {\r\n      user: api.getProfile(),\r\n      jwt,\r\n    }\r\n  })\r\n}\r\n\r\n\r\n/**\r\n * HANDLERS\r\n * \r\n * Here we define handlers for our actions\r\n */\r\nconst actions = {}\r\n\r\nactions[LOG_IN] = (state, { payload: { user, jwt } }) =>\r\n  Object.assign({}, state, { loggedIn: true, user, jwt });\r\n\r\nactions[LOG_OUT] = (state) =>\r\n  Object.assign({}, state, { loggedIn: false, user: {} });\r\n\r\n/**\r\n * Reducer\r\n */\r\n\r\nconst initialState = {\r\n  loggedIn: false,\r\n  token: api.getToken() || '',\r\n  user: {}\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  const handler = actions[action.type]\r\n\r\n  return handler ? handler(state, action) : state;\r\n}","import { combineReducers } from 'redux';\r\n\r\nimport characters from './characters';\r\nimport user from './user';\r\nimport modals from './modals';\r\nimport ui from './ui';\r\n\r\nconst reducers = combineReducers({\r\n  characters,\r\n  user,\r\n  modals,\r\n  ui\r\n})\r\n\r\nexport default reducers;","import { createStore, applyMiddleware, compose } from 'redux';\r\n\r\nimport reduxThunk from 'redux-thunk';\r\nimport reducers from './reducers/index';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducers, {}, composeEnhancers(\r\n  applyMiddleware(reduxThunk)\r\n));\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport './css/fonts.css'\nimport './css/index.css'\n\nimport { ThemeProvider } from 'styled-components';\nimport { Provider } from 'react-redux';\n\nimport Routes from './Routes';\n\nimport theme from './theme';\nimport store from './store';\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <Provider store={store}>\n      <Routes />\n    </Provider>\n  </ThemeProvider>,\n  \n  document.getElementById('root')\n);\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\r\nexport default {\r\n  light: '#36393F',\r\n  dark: '#2C2F33',\r\n\r\n  middleblack: '#23272A',\r\n  almostblack:'#202225',\r\n\r\n  grey: '#72767D',\r\n\r\n  text: 'white',\r\n\r\n  extra: '#dcddde',\r\n\r\n  gold: '#FFD569',\r\n  green: '#43B581',\r\n  red: '#FF4848',\r\n  blue: '#337ab7'\r\n}\r\n\r\n/*\r\nexport default {\r\n  dark: '#192227',\r\n  light: '#263238',\r\n\r\n  middleblack: '',\r\n  almostblack: '#0F1518',\r\n\r\n  grey: '#cccccc',\r\n\r\n  text: 'white',\r\n\r\n  gold: '#FFBF51',\r\n  green: '#c3e88d',\r\n  red: '#f07178'\r\n}*/\r\n\r\n/*\r\nconst solarized = {\r\n  base03:    '#002b36',\r\n  base02:    '#073642',\r\n  base01:    '#586e75',\r\n  base00:    '#657b83',\r\n  base0:     '#839496',\r\n  base1:     '#93a1a1',\r\n  base2:     '#eee8d5',\r\n  base3:     '#fdf6e3',\r\n  yellow:    '#b58900',\r\n  orange:    '#cb4b16',\r\n  red:       '#dc322f',\r\n  magenta:   '#d33682',\r\n  violet:    '#6c71c4',\r\n  blue:      '#268bd2',\r\n  cyan:      '#2aa198',\r\n  green:     '#859900',\r\n}\r\n\r\nexport default {\r\n  light: solarized.base3,\r\n  dark: 'rgb(211, 203, 183)',\r\n\r\n  middleblack: solarized.base2,\r\n  almostblack: solarized.base01,\r\n\r\n  grey: solarized.base01,\r\n\r\n  text: solarized.base00,\r\n\r\n  gold: solarized.yellow,\r\n  green: solarized.green,\r\n  red: solarized.red\r\n}\r\n*/"],"sourceRoot":""}